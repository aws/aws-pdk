
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="AWS Prototyping SDK (PDK)">
      
      
      
        <link rel="canonical" href="https://github.com/aws/aws-prototyping-sdk/developer_guides/type-safe-api/index.html">
      
      
        <link rel="prev" href="../static-website/index.html">
      
      
        <link rel="next" href="using_smithy.html">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.20">
    
    
      
        <title>Type Safe API - AWS Prototyping SDK (PDK)</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.eebd395e.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#type-safe-api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="AWS Prototyping SDK (PDK)" class="md-header__button md-logo" aria-label="AWS Prototyping SDK (PDK)" data-md-component="logo">
      
  <img src="../../assets/images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AWS Prototyping SDK (PDK)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Type Safe API
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/aws/aws-prototyping-sdk" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    aws/aws-prototyping-sdk
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../welcome/index.html" class="md-tabs__link">
        Welcome
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../index.html" class="md-tabs__link md-tabs__link--active">
        Developer Guides
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../walkthroughs/index.html" class="md-tabs__link">
        Walkthroughs
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../api/index.html" class="md-tabs__link">
        API Reference
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../faqs/index.html" class="md-tabs__link">
        FAQ
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="AWS Prototyping SDK (PDK)" class="md-nav__button md-logo" aria-label="AWS Prototyping SDK (PDK)" data-md-component="logo">
      
  <img src="../../assets/images/logo.png" alt="logo">

    </a>
    AWS Prototyping SDK (PDK)
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/aws/aws-prototyping-sdk" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    aws/aws-prototyping-sdk
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../welcome/index.html">Welcome</a>
          
            <label for="__nav_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Welcome
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../welcome/contributing.html" class="md-nav__link">
        Contributing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../index.html">Developer Guides</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Developer Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../aws-arch/index.html">aws-arch</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          aws-arch
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../cdk-graph/index.html">cdk-graph</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          cdk-graph
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../cdk-graph-plugin-diagram/index.html">cdk-graph-plugin-diagram</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          cdk-graph-plugin-diagram
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../cloudscape-react-ts-website/index.html">cloudscape-react-ts-website</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_5">
          <span class="md-nav__icon md-icon"></span>
          cloudscape-react-ts-website
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../identity/index.html">identity</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_6">
          <span class="md-nav__icon md-icon"></span>
          identity
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../nx-monorepo/index.html">nx-monorepo</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_7">
          <span class="md-nav__icon md-icon"></span>
          nx-monorepo
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_8" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../pdk-nag/index.html">pdk-nag</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_8">
          <span class="md-nav__icon md-icon"></span>
          pdk-nag
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_9" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../pipeline/index.html">pipeline</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_9">
          <span class="md-nav__icon md-icon"></span>
          pipeline
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_10" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../static-website/index.html">static-website</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_10">
          <span class="md-nav__icon md-icon"></span>
          static-website
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_11" checked>
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index md-nav__link--active">
          <a href="index.html">type-safe-api</a>
          
            <label for="__nav_2_11">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_11_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_11">
          <span class="md-nav__icon md-icon"></span>
          type-safe-api
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="using_smithy.html" class="md-nav__link">
        Using Smithy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="using_openapi.html" class="md-nav__link">
        Using OpenAPI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="integrations.html" class="md-nav__link">
        Integrations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="mocking_responses.html" class="md-nav__link">
        Mocking Responses
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="authorizers.html" class="md-nav__link">
        Authorizers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="lambda_handlers.html" class="md-nav__link">
        Lambda Handlers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="typescript_react_query_hooks.html" class="md-nav__link">
        React Query Hooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="api_keys.html" class="md-nav__link">
        API Keys
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../walkthroughs/index.html">Walkthroughs</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Walkthroughs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
          type-safe-api
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          type-safe-api
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../walkthroughs/type-safe-api/custom_integration_ecs.html" class="md-nav__link">
        Custom Integration: ECS & NLB
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/index.html">API Reference</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          API Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
          typescript
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          typescript
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_1" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/typescript/aws-arch/index.html">aws-arch</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_1">
          <span class="md-nav__icon md-icon"></span>
          aws-arch
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_2" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/typescript/cdk-graph/index.html">cdk-graph</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_2">
          <span class="md-nav__icon md-icon"></span>
          cdk-graph
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_3" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/typescript/cdk-graph-plugin-diagram/index.html">cdk-graph-plugin-diagram</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_3">
          <span class="md-nav__icon md-icon"></span>
          cdk-graph-plugin-diagram
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_4" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/typescript/cloudscape-react-ts-website/index.html">cloudscape-react-ts-website</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_4">
          <span class="md-nav__icon md-icon"></span>
          cloudscape-react-ts-website
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_5" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/typescript/identity/index.html">identity</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_5">
          <span class="md-nav__icon md-icon"></span>
          identity
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_6" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/typescript/nx-monorepo/index.html">nx-monorepo</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_6">
          <span class="md-nav__icon md-icon"></span>
          nx-monorepo
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_7" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/typescript/open-api-gateway/index.html">open-api-gateway</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_7">
          <span class="md-nav__icon md-icon"></span>
          open-api-gateway
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_8" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/typescript/pdk-nag/index.html">pdk-nag</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_8">
          <span class="md-nav__icon md-icon"></span>
          pdk-nag
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_9" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/typescript/pipeline/index.html">pipeline</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_9">
          <span class="md-nav__icon md-icon"></span>
          pipeline
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_10" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/typescript/static-website/index.html">static-website</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_10">
          <span class="md-nav__icon md-icon"></span>
          static-website
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_11" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/typescript/type-safe-api/index.html">type-safe-api</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_11_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_11">
          <span class="md-nav__icon md-icon"></span>
          type-safe-api
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
          python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_1" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/python/aws-arch/index.html">aws_arch</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_1">
          <span class="md-nav__icon md-icon"></span>
          aws_arch
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_2" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/python/cdk-graph/index.html">cdk_graph</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_2">
          <span class="md-nav__icon md-icon"></span>
          cdk_graph
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_3" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/python/cdk-graph-plugin-diagram/index.html">cdk_graph_plugin_diagram</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_3">
          <span class="md-nav__icon md-icon"></span>
          cdk_graph_plugin_diagram
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_4" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/python/cloudscape-react-ts-website/index.html">cloudscape_react_ts_website</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_4">
          <span class="md-nav__icon md-icon"></span>
          cloudscape_react_ts_website
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_5" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/python/identity/index.html">identity</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_5">
          <span class="md-nav__icon md-icon"></span>
          identity
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_6" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/python/nx-monorepo/index.html">nx_monorepo</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_6">
          <span class="md-nav__icon md-icon"></span>
          nx_monorepo
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_7" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/python/open-api-gateway/index.html">open_api_gateway</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_7">
          <span class="md-nav__icon md-icon"></span>
          open_api_gateway
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_8" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/python/pdk-nag/index.html">pdk_nag</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_8">
          <span class="md-nav__icon md-icon"></span>
          pdk_nag
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_9" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/python/pipeline/index.html">pipeline</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_9">
          <span class="md-nav__icon md-icon"></span>
          pipeline
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_10" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/python/static-website/index.html">static_website</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_10">
          <span class="md-nav__icon md-icon"></span>
          static_website
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_11" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/python/type-safe-api/index.html">type_safe_api</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_11_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_11">
          <span class="md-nav__icon md-icon"></span>
          type_safe_api
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
          java
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          java
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_1" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/java/aws-arch/index.html">aws-arch</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_1">
          <span class="md-nav__icon md-icon"></span>
          aws-arch
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_2" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/java/cdk-graph/index.html">cdk-graph</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_2">
          <span class="md-nav__icon md-icon"></span>
          cdk-graph
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_3" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/java/cdk-graph-plugin-diagram/index.html">cdk-graph-plugin-diagram</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_3">
          <span class="md-nav__icon md-icon"></span>
          cdk-graph-plugin-diagram
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_4" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/java/cloudscape-react-ts-website/index.html">cloudscape-react-ts-website</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_4">
          <span class="md-nav__icon md-icon"></span>
          cloudscape-react-ts-website
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_5" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/java/identity/index.html">identity</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_5">
          <span class="md-nav__icon md-icon"></span>
          identity
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_6" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/java/nx-monorepo/index.html">nx-monorepo</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_6">
          <span class="md-nav__icon md-icon"></span>
          nx-monorepo
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_7" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/java/open-api-gateway/index.html">open-api-gateway</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_7">
          <span class="md-nav__icon md-icon"></span>
          open-api-gateway
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_8" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/java/pdk-nag/index.html">pdk-nag</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_8">
          <span class="md-nav__icon md-icon"></span>
          pdk-nag
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_9" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/java/pipeline/index.html">pipeline</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_9">
          <span class="md-nav__icon md-icon"></span>
          pipeline
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_10" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/java/static-website/index.html">static-website</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_10">
          <span class="md-nav__icon md-icon"></span>
          static-website
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_11" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/java/type-safe-api/index.html">type-safe-api</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_11_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_11">
          <span class="md-nav__icon md-icon"></span>
          type-safe-api
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../faqs/index.html">FAQ</a>
          
            <label for="__nav_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          FAQ
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../faqs/cloudscape-react-ts-website/index.html">cloudscape-react-ts-website</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          cloudscape-react-ts-website
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../faqs/nx-monorepo/index.html">nx-monorepo</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          nx-monorepo
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../faqs/pipeline/index.html">pipeline</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          pipeline
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../faqs/type-safe-api/index.html">type-safe-api</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_5">
          <span class="md-nav__icon md-icon"></span>
          type-safe-api
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#how-does-it-work" class="md-nav__link">
    How does it work?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting started
  </a>
  
    <nav class="md-nav" aria-label="Getting started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#type-safe-api-project-structure" class="md-nav__link">
    Type Safe API project structure
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-your-api-project" class="md-nav__link">
    Create your API project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-the-cdk-construct" class="md-nav__link">
    Use the CDK construct
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implement-a-lambda-handler" class="md-nav__link">
    Implement a Lambda handler
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-a-new-operation" class="md-nav__link">
    Add a new operation
  </a>
  
    <nav class="md-nav" aria-label="Add a new operation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#define-the-operation-in-your-model" class="md-nav__link">
    Define the operation in your model
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-your-project" class="md-nav__link">
    Build your project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-an-integration" class="md-nav__link">
    Add an integration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implement-the-lambda-handler" class="md-nav__link">
    Implement the Lambda handler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-your-project" class="md-nav__link">
    Deploy your project
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="type-safe-api">Type Safe API</h1>
<p>The <em>type-safe-api</em> package provides a projen project type which allows you to define an API using either <a href="https://smithy.io/2.0/">Smithy</a> or <a href="https://swagger.io/specification/">OpenAPI v3</a>, and a construct which manages deploying this API in an API Gateway.</p>
<p>You can define your APIs using <a href="https://smithy.io/2.0/">Smithy</a> or <a href="https://swagger.io/specification/">OpenAPI v3</a>, and leverage the power of generated client and server types, infrastructure, documentation, and automatic input validation.</p>
<h2 id="how-does-it-work">How does it work?</h2>
<p>The project will generate runtime projects from your API definition in your desired languages, which you can use both on the client side for interacting with your API, or server side for implementing your API. The project also generates a type-safe CDK construct which ensures an integration is provided for every API operation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The code is generated at build time, so when you change your API model, you will need to rebuild to see your changes reflected in the generated code.</p>
</div>
<p>The <code>TypeSafeApiProject</code> projen project creates the following directory structure within its <code>outdir</code>:</p>
<div class="highlight"><pre><span></span><code>|_ model/
    |_ src/
        |_ main/
            |_ smithy - your API definition if you chose ModelLanguage.SMITHY
            |_ openapi - your API definition if you chose ModelLanguage.OPENAPI
|_ runtime/ - generated types, client, and server code in the languages you specified
    |_ typescript
    |_ python
    |_ java
|_ infrastructure/ - generated infrastructure (you&#39;ll find only one directory in here based on your chosen infrastructure language)
    |_ typescript
    |_ python
    |_ java
|_ documentation/ - generated documentation in the formats you specified
    |_ html2
    |_ html_redoc
    |_ plantuml
    |_ markdown
|_ library/ - generated libraries if specified
    |_ typescript-react-query-hooks
</code></pre></div>
<h2 id="getting-started">Getting started</h2>
<p>This section describes how to get started with the type-safe API. For more information, refer to the other user guides on particular features of this library.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Select the tabs to use this library with infrastructure and lambda handlers in the same language, but you can mix and match language. For example, you could write CDK infrastructure in Java and implement your lambda handlers in Python.</p>
</div>
<h3 id="type-safe-api-project-structure">Type Safe API project structure</h3>
<p>The <code>TypeSafeApiProject</code> projen project sets up the project structure for you. Consider the following parameters when creating the project:</p>
<ul>
<li><code>model</code> - Configure the API model. Select a <code>language</code> for the model from either <a href="https://smithy.io/2.0/">Smithy</a> or <a href="https://swagger.io/specification/">OpenAPI v3</a>, and provide <code>options.smithy</code> or <code>options.openapi</code> depending on your choice.</li>
<li><code>runtime</code> - Configure the generated runtime projects. Include one or more <code>languages</code> you want to write your client and/or server-side code in. These projects contain generated types defined in your model, as well as type-safe lambda handler wrappers for implementing each operation.</li>
<li><code>infrastructure</code> - Select the <code>language</code> you are writing your CDK infrastructure in. A construct will be generated in this language which can be used to deploy the API.</li>
<li><code>documentation</code> - Specify <code>formats</code> to generate documentation in.</li>
<li><code>library</code> - Specify additional <code>libraries</code> to generate, such as React Query hooks for use in a React website.</li>
</ul>
<h2 id="create-your-api-project">Create your API project</h2>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>We recommend you use these projects as part of an <code>nx-monorepo</code> project (eg. by specifying <code>parent: monorepo</code>), as it makes setting up dependencies much easier, particularly when extending your project further with a CDK app and lambda functions.</p>
</div>
<ol>
<li>To start an empty <code>nx-monorepo</code> project, use this command:</li>
</ol>
<div class="highlight"><pre><span></span><code>npx<span class="w"> </span>projen<span class="w"> </span>new<span class="w"> </span>--from<span class="w"> </span>@aws-prototyping-sdk/nx-monorepo
</code></pre></div>
<ol>
<li>Add <code>@aws-prototyping-sdk/type-safe-api</code> to your <code>NxMonorepoProject</code>'s <code>devDeps</code> and re-synthesize to install the dependency.</li>
</ol>
<div class="highlight"><pre><span></span><code>yarn projen
</code></pre></div>
<ol>
<li>Edit your <code>.projenrc</code> and configure <code>TypeSafeApiProject</code>.</li>
</ol>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Use the tabs to see how to set up a project for writing infrastructure, and server-side code using specfic languages (TypeScript, Java, and Python).</p>
</div>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">TS</label><label for="__tabbed_1_2">JAVA</label><label for="__tabbed_1_3">PYTHON</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">NxMonorepoProject</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@aws-prototyping-sdk/nx-monorepo&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">DocumentationFormat</span><span class="p">,</span>
<span class="w">  </span><span class="nx">Language</span><span class="p">,</span>
<span class="w">  </span><span class="nx">Library</span><span class="p">,</span>
<span class="w">  </span><span class="nx">ModelLanguage</span><span class="p">,</span>
<span class="w">  </span><span class="nx">TypeSafeApiProject</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@aws-prototyping-sdk/type-safe-api&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">AwsCdkTypeScriptApp</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;projen/lib/awscdk&quot;</span><span class="p">;</span>

<span class="c1">// Create the monorepo</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">monorepo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">NxMonorepoProject</span><span class="p">({</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;my-project&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">defaultReleaseBranch</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;main&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">devDeps</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;@aws-prototyping-sdk/nx-monorepo&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;@aws-prototyping-sdk/type-safe-api&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="p">],</span>
<span class="p">});</span>

<span class="c1">// Create the API project</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">api</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">TypeSafeApiProject</span><span class="p">({</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;myapi&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">parent</span><span class="o">:</span><span class="w"> </span><span class="kt">monorepo</span><span class="p">,</span>
<span class="w">  </span><span class="nx">outdir</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;packages/api&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="c1">// Smithy as the model language. You can also use ModelLanguage.OPENAPI</span>
<span class="w">  </span><span class="nx">model</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">language</span><span class="o">:</span><span class="w"> </span><span class="kt">ModelLanguage.SMITHY</span><span class="p">,</span>
<span class="w">    </span><span class="nx">options</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">smithy</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">serviceName</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nx">namespace</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;com.my.company&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nx">serviceName</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;MyApi&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="c1">// Generate types, client and server code in TypeScript, Python and Java</span>
<span class="w">  </span><span class="nx">runtime</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">languages</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="nx">Language</span><span class="p">.</span><span class="nx">TYPESCRIPT</span><span class="p">,</span><span class="w"> </span><span class="nx">Language</span><span class="p">.</span><span class="nx">PYTHON</span><span class="p">,</span><span class="w"> </span><span class="nx">Language</span><span class="p">.</span><span class="nx">JAVA</span><span class="p">],</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="c1">// CDK infrastructure in TypeScript</span>
<span class="w">  </span><span class="nx">infrastructure</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">language</span><span class="o">:</span><span class="w"> </span><span class="kt">Language.TYPESCRIPT</span><span class="p">,</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="c1">// Generate HTML documentation</span>
<span class="w">  </span><span class="nx">documentation</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">formats</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="nx">DocumentationFormat</span><span class="p">.</span><span class="nx">HTML_REDOC</span><span class="p">],</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="c1">// Generate react-query hooks to interact with the UI from a React website</span>
<span class="w">  </span><span class="nx">library</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">libraries</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="nx">Library</span><span class="p">.</span><span class="nx">TYPESCRIPT_REACT_QUERY_HOOKS</span><span class="p">],</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">});</span>

<span class="c1">// Create a CDK infrastructure project. Can also consider PDKPipelineTsProject as an alternative!</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">infra</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">AwsCdkTypeScriptApp</span><span class="p">({</span>
<span class="w">  </span><span class="nx">defaultReleaseBranch</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;main&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">cdkVersion</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;2.0.0&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">parent</span><span class="o">:</span><span class="w"> </span><span class="kt">monorepo</span><span class="p">,</span>
<span class="w">  </span><span class="nx">outdir</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;packages/infra&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;myinfra&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">deps</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;@aws-prototyping-sdk/type-safe-api&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="p">],</span>
<span class="p">});</span>

<span class="c1">// Infrastructure can depend on the generated API infrastructure and runtime</span>
<span class="nx">infra</span><span class="p">.</span><span class="nx">addDeps</span><span class="p">(</span><span class="nx">api</span><span class="p">.</span><span class="nx">infrastructure</span><span class="p">.</span><span class="nx">typescript</span><span class="o">!</span><span class="p">.</span><span class="kr">package</span><span class="p">.</span><span class="nx">packageName</span><span class="p">);</span>
<span class="nx">infra</span><span class="p">.</span><span class="nx">addDeps</span><span class="p">(</span><span class="nx">api</span><span class="p">.</span><span class="nx">runtime</span><span class="p">.</span><span class="nx">typescript</span><span class="o">!</span><span class="p">.</span><span class="kr">package</span><span class="p">.</span><span class="nx">packageName</span><span class="p">);</span>

<span class="nx">monorepo</span><span class="p">.</span><span class="nx">synth</span><span class="p">();</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>The <code>.projenrc</code> file is written in TypeScript here in order to make use of the <code>nx-monorepo</code>, but shows an example project definition for implementing infrastructure and lambda handlers in Java.</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">NxMonorepoProject</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@aws-prototyping-sdk/nx-monorepo&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">DocumentationFormat</span><span class="p">,</span>
<span class="w">  </span><span class="nx">Language</span><span class="p">,</span>
<span class="w">  </span><span class="nx">Library</span><span class="p">,</span>
<span class="w">  </span><span class="nx">ModelLanguage</span><span class="p">,</span>
<span class="w">  </span><span class="nx">TypeSafeApiProject</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@aws-prototyping-sdk/type-safe-api&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">AwsCdkJavaApp</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;projen/lib/awscdk&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">JavaProject</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;projen/lib/java&quot;</span><span class="p">;</span>

<span class="c1">// Create the monorepo</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">monorepo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">NxMonorepoProject</span><span class="p">({</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;my-project&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">defaultReleaseBranch</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;main&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">devDeps</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;@aws-prototyping-sdk/nx-monorepo&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;@aws-prototyping-sdk/type-safe-api&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="p">],</span>
<span class="p">});</span>

<span class="c1">// Create the API project</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">api</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">TypeSafeApiProject</span><span class="p">({</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;myapi&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">parent</span><span class="o">:</span><span class="w"> </span><span class="kt">monorepo</span><span class="p">,</span>
<span class="w">  </span><span class="nx">outdir</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;packages/api&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="c1">// Smithy as the model language. You can also use ModelLanguage.OPENAPI</span>
<span class="w">  </span><span class="nx">model</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">language</span><span class="o">:</span><span class="w"> </span><span class="kt">ModelLanguage.SMITHY</span><span class="p">,</span>
<span class="w">    </span><span class="nx">options</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">smithy</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">serviceName</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nx">namespace</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;com.my.company&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nx">serviceName</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;MyApi&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="c1">// Generate types, client and server code in TypeScript, Python and Java</span>
<span class="w">  </span><span class="nx">runtime</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">languages</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="nx">Language</span><span class="p">.</span><span class="nx">TYPESCRIPT</span><span class="p">,</span><span class="w"> </span><span class="nx">Language</span><span class="p">.</span><span class="nx">PYTHON</span><span class="p">,</span><span class="w"> </span><span class="nx">Language</span><span class="p">.</span><span class="nx">JAVA</span><span class="p">],</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="c1">// CDK infrastructure in Java</span>
<span class="w">  </span><span class="nx">infrastructure</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">language</span><span class="o">:</span><span class="w"> </span><span class="kt">Language.JAVA</span><span class="p">,</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="c1">// Generate HTML documentation</span>
<span class="w">  </span><span class="nx">documentation</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">formats</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="nx">DocumentationFormat</span><span class="p">.</span><span class="nx">HTML_REDOC</span><span class="p">],</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="c1">// Generate react-query hooks to interact with the UI from a React website</span>
<span class="w">  </span><span class="nx">library</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">libraries</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="nx">Library</span><span class="p">.</span><span class="nx">TYPESCRIPT_REACT_QUERY_HOOKS</span><span class="p">],</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">});</span>

<span class="c1">// Create a Java project for our lambda functions which will implement the API operations</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">lambdas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">JavaProject</span><span class="p">({</span>
<span class="w">  </span><span class="nx">artifactId</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;lambdas&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">groupId</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;com.my.company&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;lambdas&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">parent</span><span class="o">:</span><span class="w"> </span><span class="kt">monorepo</span><span class="p">,</span>
<span class="w">  </span><span class="nx">outdir</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;packages/lambdas&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">sample</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span><span class="p">,</span>
<span class="p">});</span>

<span class="c1">// The lambdas package needs a dependency on the generated java runtime</span>
<span class="nx">monorepo</span><span class="p">.</span><span class="nx">addJavaDependency</span><span class="p">(</span><span class="nx">lambdas</span><span class="p">,</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">runtime</span><span class="p">.</span><span class="nx">java</span><span class="o">!</span><span class="p">);</span>

<span class="c1">// Use the maven shade plugin to build a &quot;super jar&quot; which we can deploy to AWS Lambda</span>
<span class="nx">lambdas</span><span class="p">.</span><span class="nx">pom</span><span class="p">.</span><span class="nx">addPlugin</span><span class="p">(</span><span class="s2">&quot;org.apache.maven.plugins/maven-shade-plugin@3.3.0&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">configuration</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">createDependencyReducedPom</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span><span class="p">,</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nx">executions</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;shade-task&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">phase</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;package&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">goals</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;shade&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">],</span>
<span class="p">});</span>

<span class="c1">// Create a CDK infrastructure project. Can also consider PDKPipelineJavaProject as an alternative!</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">infra</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">AwsCdkJavaApp</span><span class="p">({</span>
<span class="w">  </span><span class="nx">artifactId</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;infra&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">groupId</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;com.my.company&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">mainClass</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;com.my.company.MyApp&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">cdkVersion</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;2.0.0&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;infra&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">parent</span><span class="o">:</span><span class="w"> </span><span class="kt">monorepo</span><span class="p">,</span>
<span class="w">  </span><span class="nx">outdir</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;packages/infra&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">deps</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;software.aws.awsprototypingsdk/type-safe-api@^0&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="p">],</span>
<span class="p">});</span>

<span class="c1">// Add a dependency on the generated CDK infrastructure and runtime</span>
<span class="nx">monorepo</span><span class="p">.</span><span class="nx">addJavaDependency</span><span class="p">(</span><span class="nx">infra</span><span class="p">,</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">infrastructure</span><span class="p">.</span><span class="nx">java</span><span class="o">!</span><span class="p">);</span>
<span class="nx">monorepo</span><span class="p">.</span><span class="nx">addJavaDependency</span><span class="p">(</span><span class="nx">infra</span><span class="p">,</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">runtime</span><span class="p">.</span><span class="nx">java</span><span class="o">!</span><span class="p">);</span>

<span class="c1">// Make sure the java lambda builds before our CDK infra</span>
<span class="nx">monorepo</span><span class="p">.</span><span class="nx">addImplicitDependency</span><span class="p">(</span><span class="nx">infra</span><span class="p">,</span><span class="w"> </span><span class="nx">lambdas</span><span class="p">);</span>

<span class="nx">monorepo</span><span class="p">.</span><span class="nx">synth</span><span class="p">();</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>The <code>.projenrc</code> file is written in TypeScript here in order to make use of the <code>nx-monorepo</code>, but shows an example project definition for implementing infrastructure and lambda handlers in Python.</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">NxMonorepoProject</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@aws-prototyping-sdk/nx-monorepo&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">DocumentationFormat</span><span class="p">,</span>
<span class="w">  </span><span class="nx">Language</span><span class="p">,</span>
<span class="w">  </span><span class="nx">Library</span><span class="p">,</span>
<span class="w">  </span><span class="nx">ModelLanguage</span><span class="p">,</span>
<span class="w">  </span><span class="nx">TypeSafeApiProject</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@aws-prototyping-sdk/type-safe-api&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">AwsCdkPythonApp</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;projen/lib/awscdk&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">PythonProject</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;projen/lib/python&quot;</span><span class="p">;</span>

<span class="c1">// Create the monorepo</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">monorepo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">NxMonorepoProject</span><span class="p">({</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;my-project&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">defaultReleaseBranch</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;main&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">devDeps</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;@aws-prototyping-sdk/nx-monorepo&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;@aws-prototyping-sdk/type-safe-api&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="p">],</span>
<span class="p">});</span>

<span class="c1">// Create the API project</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">api</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">TypeSafeApiProject</span><span class="p">({</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;myapi&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">parent</span><span class="o">:</span><span class="w"> </span><span class="kt">monorepo</span><span class="p">,</span>
<span class="w">  </span><span class="nx">outdir</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;packages/api&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="c1">// Smithy as the model language. You can also use ModelLanguage.OPENAPI</span>
<span class="w">  </span><span class="nx">model</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">language</span><span class="o">:</span><span class="w"> </span><span class="kt">ModelLanguage.SMITHY</span><span class="p">,</span>
<span class="w">    </span><span class="nx">options</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">smithy</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">serviceName</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nx">namespace</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;com.my.company&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nx">serviceName</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;MyApi&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="c1">// Generate types, client and server code in TypeScript, Python and Java</span>
<span class="w">  </span><span class="nx">runtime</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">languages</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="nx">Language</span><span class="p">.</span><span class="nx">TYPESCRIPT</span><span class="p">,</span><span class="w"> </span><span class="nx">Language</span><span class="p">.</span><span class="nx">PYTHON</span><span class="p">,</span><span class="w"> </span><span class="nx">Language</span><span class="p">.</span><span class="nx">JAVA</span><span class="p">],</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="c1">// CDK infrastructure in Python</span>
<span class="w">  </span><span class="nx">infrastructure</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">language</span><span class="o">:</span><span class="w"> </span><span class="kt">Language.PYTHON</span><span class="p">,</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="c1">// Generate HTML documentation</span>
<span class="w">  </span><span class="nx">documentation</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">formats</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="nx">DocumentationFormat</span><span class="p">.</span><span class="nx">HTML_REDOC</span><span class="p">],</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="c1">// Generate react-query hooks to interact with the UI from a React website</span>
<span class="w">  </span><span class="nx">library</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">libraries</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="nx">Library</span><span class="p">.</span><span class="nx">TYPESCRIPT_REACT_QUERY_HOOKS</span><span class="p">],</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">});</span>

<span class="c1">// Create a Python project for our lambda functions which will implement the API operations</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">lambdas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">PythonProject</span><span class="p">({</span>
<span class="w">  </span><span class="nx">parent</span><span class="o">:</span><span class="w"> </span><span class="kt">monorepo</span><span class="p">,</span>
<span class="w">  </span><span class="nx">poetry</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
<span class="w">  </span><span class="nx">outdir</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;packages/lambdas&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="kr">module</span><span class="nx">Name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;lambdas&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;lambdas&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">authorEmail</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;me@example.com&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">authorName</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
<span class="p">});</span>

<span class="c1">// The lambdas package needs a dependency on the generated python runtime</span>
<span class="nx">monorepo</span><span class="p">.</span><span class="nx">addPythonPoetryDependency</span><span class="p">(</span><span class="nx">lambdas</span><span class="p">,</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">runtime</span><span class="p">.</span><span class="nx">python</span><span class="o">!</span><span class="p">);</span>

<span class="c1">// Add commands to the lambda project&#39;s package task to create a distributable which can be deployed to AWS Lambda</span>
<span class="nx">lambdas</span><span class="p">.</span><span class="nx">packageTask</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="sb">`mkdir -p lambda-dist &amp;&amp; rm -rf lambda-dist/*`</span><span class="p">);</span>
<span class="nx">lambdas</span><span class="p">.</span><span class="nx">packageTask</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="sb">`cp -r </span><span class="si">${</span><span class="nx">lambdas</span><span class="p">.</span><span class="kr">module</span><span class="nx">Name</span><span class="si">}</span><span class="sb"> lambda-dist/</span><span class="si">${</span><span class="nx">lambdas</span><span class="p">.</span><span class="kr">module</span><span class="nx">Name</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="nx">lambdas</span><span class="p">.</span><span class="nx">packageTask</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="sb">`poetry export --without-hashes --format=requirements.txt &gt; lambda-dist/requirements.txt`</span><span class="p">);</span>
<span class="nx">lambdas</span><span class="p">.</span><span class="nx">packageTask</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="sb">`pip install -r lambda-dist/requirements.txt --target lambda-dist --upgrade`</span><span class="p">);</span>

<span class="c1">// Create a CDK infrastructure project. Can also consider PDKPipelinePyProject as an alternative!</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">infra</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">AwsCdkPythonApp</span><span class="p">({</span>
<span class="w">  </span><span class="nx">parent</span><span class="o">:</span><span class="w"> </span><span class="kt">monorepo</span><span class="p">,</span>
<span class="w">  </span><span class="nx">poetry</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
<span class="w">  </span><span class="nx">outdir</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;packages/infra&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="kr">module</span><span class="nx">Name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;infra&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;infra&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">cdkVersion</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;2.0.0&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">authorEmail</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;me@example.com&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">authorName</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">deps</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;aws_prototyping_sdk.type_safe_api@&lt;1.0.0&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="p">],</span>
<span class="p">});</span>

<span class="c1">// Add a dependency on the generated CDK infrastructure and runtime</span>
<span class="nx">monorepo</span><span class="p">.</span><span class="nx">addPythonPoetryDependency</span><span class="p">(</span><span class="nx">infra</span><span class="p">,</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">infrastructure</span><span class="p">.</span><span class="nx">python</span><span class="o">!</span><span class="p">);</span>
<span class="nx">monorepo</span><span class="p">.</span><span class="nx">addPythonPoetryDependency</span><span class="p">(</span><span class="nx">infra</span><span class="p">,</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">runtime</span><span class="p">.</span><span class="nx">python</span><span class="o">!</span><span class="p">);</span>

<span class="c1">// Make sure the python lambdas build before our CDK infra</span>
<span class="nx">monorepo</span><span class="p">.</span><span class="nx">addImplicitDependency</span><span class="p">(</span><span class="nx">infra</span><span class="p">,</span><span class="w"> </span><span class="nx">lambdas</span><span class="p">);</span>

<span class="nx">monorepo</span><span class="p">.</span><span class="nx">synth</span><span class="p">();</span>
</code></pre></div>
</div>
</div>
</div>
<ol>
<li>After you define your <code>.projenrc</code>, run <code>projen</code> and <code>build</code> (using the appropriate commands for your package manager). For example, if you are using <code>yarn</code>, use these commands.</li>
</ol>
<div class="highlight"><pre><span></span><code>yarn projen 
yarn build
</code></pre></div>
<h2 id="use-the-cdk-construct">Use the CDK construct</h2>
<p>In your CDK application, using your preferred language, include the <code>Api</code> construct, vended from the generated infrastructure package.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:3"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">TS</label><label for="__tabbed_2_2">JAVA</label><label for="__tabbed_2_3">PYTHON</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Edit <code>packages/infra/src/main.ts</code> to include the <code>Api</code> construct.</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Stack</span><span class="p">,</span><span class="w"> </span><span class="nx">StackProps</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;aws-cdk-lib&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Construct</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;constructs&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Api</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;myapi-typescript-infra&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// &lt;- generated typescript infrastructure package</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Authorizers</span><span class="p">,</span><span class="w"> </span><span class="nx">Integrations</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@aws-prototyping-sdk/type-safe-api&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">NodejsFunction</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;aws-cdk-lib/aws-lambda-nodejs&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Cors</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;aws-cdk-lib/aws-apigateway&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">path</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;path&quot;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">MyStack</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Stack</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">scope</span><span class="o">:</span><span class="w"> </span><span class="kt">Construct</span><span class="p">,</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">props</span><span class="o">:</span><span class="w"> </span><span class="kt">StackProps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">(</span><span class="nx">scope</span><span class="p">,</span><span class="w"> </span><span class="nx">id</span><span class="p">,</span><span class="w"> </span><span class="nx">props</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Instantiate the generated CDK construct to deploy an API Gateway API based on your model</span>
<span class="w">    </span><span class="ow">new</span><span class="w"> </span><span class="nx">Api</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;MyApi&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">defaultAuthorizer</span><span class="o">:</span><span class="w"> </span><span class="kt">Authorizers.iam</span><span class="p">(),</span>
<span class="w">      </span><span class="nx">corsOptions</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">allowOrigins</span><span class="o">:</span><span class="w"> </span><span class="kt">Cors.ALL_ORIGINS</span><span class="p">,</span>
<span class="w">        </span><span class="nx">allowMethods</span><span class="o">:</span><span class="w"> </span><span class="kt">Cors.ALL_METHODS</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="c1">// Supply an integration for every operation</span>
<span class="w">      </span><span class="nx">integrations</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">sayHello</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nx">integration</span><span class="o">:</span><span class="w"> </span><span class="kt">Integrations.lambda</span><span class="p">(</span>
<span class="w">            </span><span class="ow">new</span><span class="w"> </span><span class="nx">NodejsFunction</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SayHelloLambda&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nx">entry</span><span class="o">:</span><span class="w"> </span><span class="kt">path.resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;say-hello.ts&quot;</span><span class="p">),</span>
<span class="w">            </span><span class="p">})</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>Edit <code>packages/infra/src/main/java/com/my/api/MyApp.java</code> to include the <code>Api</code> construct.</p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.my.api</span><span class="p">;</span>

<span class="c1">// Imports from the generated infrastructure and runtime projects</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.generated.api.myapijavainfra.infra.Api</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.generated.api.myapijavainfra.infra.ApiProps</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.generated.api.myapijavaruntime.runtime.api.OperationConfig</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">software.amazon.awscdk.Duration</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">software.amazon.awscdk.services.apigateway.CorsOptions</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">software.amazon.awscdk.services.lambda.Code</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">software.amazon.awscdk.services.lambda.Function</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">software.amazon.awscdk.services.lambda.FunctionProps</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">software.amazon.awscdk.services.lambda.Runtime</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">software.aws.awsprototypingsdk.typesafeapi.Authorizers</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">software.aws.awsprototypingsdk.typesafeapi.Integrations</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">software.aws.awsprototypingsdk.typesafeapi.TypeSafeApiIntegration</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">software.amazon.awscdk.App</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">software.amazon.awscdk.Stack</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Arrays</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MyApp</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">App</span><span class="w"> </span><span class="n">app</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">App</span><span class="p">();</span>
<span class="w">        </span><span class="n">Stack</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Stack</span><span class="p">(</span><span class="n">app</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;infra&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Declare the API construct to deploy the API Gateway resources</span>
<span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">Api</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Api&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ApiProps</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">defaultAuthorizer</span><span class="p">(</span><span class="n">Authorizers</span><span class="p">.</span><span class="na">iam</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">corsOptions</span><span class="p">(</span><span class="n">CorsOptions</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                        </span><span class="p">.</span><span class="na">allowOrigins</span><span class="p">(</span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="s">&quot;*&quot;</span><span class="p">))</span>
<span class="w">                        </span><span class="p">.</span><span class="na">allowMethods</span><span class="p">(</span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="s">&quot;*&quot;</span><span class="p">))</span>
<span class="w">                        </span><span class="p">.</span><span class="na">build</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">integrations</span><span class="p">(</span><span class="n">OperationConfig</span><span class="p">.</span><span class="o">&lt;</span><span class="n">TypeSafeApiIntegration</span><span class="o">&gt;</span><span class="n">builder</span><span class="p">()</span>
<span class="w">                        </span><span class="p">.</span><span class="na">sayHello</span><span class="p">(</span><span class="n">TypeSafeApiIntegration</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                                </span><span class="p">.</span><span class="na">integration</span><span class="p">(</span><span class="n">Integrations</span><span class="p">.</span><span class="na">lambda</span><span class="p">(</span>
<span class="w">                                        </span><span class="c1">// Point the lambda function to our built jar from the &quot;lambdas&quot; package</span>
<span class="w">                                        </span><span class="k">new</span><span class="w"> </span><span class="n">Function</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;say-hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">FunctionProps</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                                                </span><span class="p">.</span><span class="na">code</span><span class="p">(</span><span class="n">Code</span><span class="p">.</span><span class="na">fromAsset</span><span class="p">(</span><span class="s">&quot;../lambdas/dist/java/com/my/api/lambdas/1.0.0/lambdas-1.0.0.jar&quot;</span><span class="p">))</span>
<span class="w">                                                </span><span class="p">.</span><span class="na">handler</span><span class="p">(</span><span class="s">&quot;com.my.api.SayHelloHandler&quot;</span><span class="p">)</span>
<span class="w">                                                </span><span class="p">.</span><span class="na">runtime</span><span class="p">(</span><span class="n">Runtime</span><span class="p">.</span><span class="na">JAVA_17</span><span class="p">)</span>
<span class="w">                                                </span><span class="p">.</span><span class="na">timeout</span><span class="p">(</span><span class="n">Duration</span><span class="p">.</span><span class="na">seconds</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
<span class="w">                                                </span><span class="p">.</span><span class="na">build</span><span class="p">())))</span>
<span class="w">                                </span><span class="p">.</span><span class="na">build</span><span class="p">())</span>
<span class="w">                        </span><span class="p">.</span><span class="na">build</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>

<span class="w">        </span><span class="n">app</span><span class="p">.</span><span class="na">synth</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>Edit <code>packages/infra/infra/main.py</code> to include the <code>Api</code> construct.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">aws_cdk</span> <span class="kn">import</span> <span class="n">Stack</span>
<span class="kn">from</span> <span class="nn">constructs</span> <span class="kn">import</span> <span class="n">Construct</span>
<span class="kn">from</span> <span class="nn">aws_cdk.aws_lambda</span> <span class="kn">import</span> <span class="n">LayerVersion</span><span class="p">,</span> <span class="n">Code</span><span class="p">,</span> <span class="n">Function</span><span class="p">,</span> <span class="n">Runtime</span>
<span class="kn">from</span> <span class="nn">aws_prototyping_sdk.type_safe_api</span> <span class="kn">import</span> <span class="n">Authorizers</span><span class="p">,</span> <span class="n">TypeSafeApiIntegration</span><span class="p">,</span> <span class="n">Integrations</span>

<span class="c1"># Imports from the generated runtime and infrastructure projects</span>
<span class="kn">from</span> <span class="nn">myapi_python_runtime.apis.tags.default_api_operation_config</span> <span class="kn">import</span> <span class="n">OperationConfig</span>
<span class="kn">from</span> <span class="nn">myapi_python_infra.api</span> <span class="kn">import</span> <span class="n">Api</span>

<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">path</span>

<span class="k">class</span> <span class="nc">MyStack</span><span class="p">(</span><span class="n">Stack</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scope</span><span class="p">:</span> <span class="n">Construct</span><span class="p">,</span> <span class="n">construct_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="n">construct_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="c1"># Use the generated Api construct</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">api</span> <span class="o">=</span> <span class="n">Api</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Api&#39;</span><span class="p">,</span>
            <span class="n">default_authorizer</span><span class="o">=</span><span class="n">Authorizers</span><span class="o">.</span><span class="n">iam</span><span class="p">(),</span>
            <span class="n">integrations</span><span class="o">=</span><span class="n">OperationConfig</span><span class="p">(</span>
                <span class="n">say_hello</span><span class="o">=</span><span class="n">TypeSafeApiIntegration</span><span class="p">(</span>
                    <span class="c1"># Create a python lambda function from our &quot;lambda-dist&quot; package</span>
                    <span class="n">integration</span><span class="o">=</span><span class="n">Integrations</span><span class="o">.</span><span class="n">lambda_</span><span class="p">(</span><span class="n">Function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;SayHello&#39;</span><span class="p">,</span>
                        <span class="n">runtime</span><span class="o">=</span><span class="n">Runtime</span><span class="o">.</span><span class="n">PYTHON_3_9</span><span class="p">,</span>
                        <span class="n">code</span><span class="o">=</span><span class="n">Code</span><span class="o">.</span><span class="n">from_asset</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">,</span> <span class="s2">&quot;lambdas&quot;</span><span class="p">,</span> <span class="s2">&quot;lambda-dist&quot;</span><span class="p">)),</span>
                        <span class="n">handler</span><span class="o">=</span><span class="s2">&quot;lambdas.say_hello.handler&quot;</span><span class="p">,</span>
                    <span class="p">)),</span>
                <span class="p">),</span>
            <span class="p">),</span>
        <span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="implement-a-lambda-handler">Implement a Lambda handler</h2>
<p>The generated runtime projects include lambda handler wrappers which provide type-safety for implementing your API operations. You can implement your lambda handlers in any of the supported languages, or mix and match languages for different operations if you prefer.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:3"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">TS</label><label for="__tabbed_3_2">JAVA</label><label for="__tabbed_3_3">PYTHON</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>In the TypeScript CDK application in the CDK construct, we used <code>NodejsFunction</code> which allows you to write your lambda handler code in the same <code>infra</code> project. Define <code>say-hello.ts</code> and use the generated lambda handler wrapper.</p>
<p>For example, the implementation of <code>packages/infra/src/say-hello.ts</code> may include:</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">sayHelloHandler</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;myapi-typescript-runtime&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// &lt;- generated typescript runtime package</span>

<span class="c1">// Use the handler wrapper for type-safety to ensure you correctly implement your modelled API operation</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">handler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">sayHelloHandler</span><span class="p">(</span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">input</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">statusCode</span><span class="o">:</span><span class="w"> </span><span class="kt">200</span><span class="p">,</span>
<span class="w">    </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="sb">`Hello </span><span class="si">${</span><span class="nx">input</span><span class="p">.</span><span class="nx">requestParameters</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">});</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>In your <code>lambdas</code> project you can define your lambda handler in its source directory, for example, <code>packages/lambdas/src/main/java/com/my/api/SayHelloHandler.java</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.my.api</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.generated.api.myapijavaruntime.runtime.api.Handlers.SayHello</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.generated.api.myapijavaruntime.runtime.api.Handlers.SayHello200Response</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.generated.api.myapijavaruntime.runtime.api.Handlers.SayHelloRequestInput</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.generated.api.myapijavaruntime.runtime.api.Handlers.SayHelloResponse</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.generated.api.myapijavaruntime.runtime.model.SayHelloResponseContent</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * An example lambda handler which uses the generated handler wrapper class (Handlers.SayHello) to manage marshalling</span>
<span class="cm"> * inputs and outputs.</span>
<span class="cm"> */</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SayHelloHandler</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">SayHello</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">SayHelloResponse</span><span class="w"> </span><span class="nf">handle</span><span class="p">(</span><span class="n">SayHelloRequestInput</span><span class="w"> </span><span class="n">sayHelloRequestInput</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">SayHello200Response</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">SayHelloResponseContent</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">message</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;Hello %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">sayHelloRequestInput</span><span class="p">.</span><span class="na">getInput</span><span class="p">().</span><span class="na">getRequestParameters</span><span class="p">().</span><span class="na">getName</span><span class="p">()))</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>In your <code>lambdas</code> project you can define your lambda handler in its source directory, for example, <code>packages/lambdas/lambdas/say_hello.py</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">myapi_python_runtime.model.say_hello_response_content</span> <span class="kn">import</span> <span class="n">SayHelloResponseContent</span>
<span class="kn">from</span> <span class="nn">myapi_python_runtime.apis.tags.default_api_operation_config</span> <span class="kn">import</span> <span class="n">say_hello_handler</span><span class="p">,</span>
    <span class="n">SayHelloRequest</span><span class="p">,</span> <span class="n">SayHelloOperationResponses</span><span class="p">,</span> <span class="n">ApiResponse</span>


<span class="nd">@say_hello_handler</span>
<span class="k">def</span> <span class="nf">handler</span><span class="p">(</span><span class="nb">input</span><span class="p">:</span> <span class="n">SayHelloRequest</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SayHelloOperationResponses</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">ApiResponse</span><span class="p">(</span>
        <span class="n">status_code</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
        <span class="n">body</span><span class="o">=</span><span class="n">SayHelloResponseContent</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s2">&quot;Hello </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">input</span><span class="o">.</span><span class="n">request_parameters</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])),</span>
        <span class="n">headers</span><span class="o">=</span><span class="p">{}</span>
    <span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="add-a-new-operation">Add a new operation</h2>
<p>To add a new operation to your API, follow these steps.</p>
<h3 id="define-the-operation-in-your-model">Define the operation in your model</h3>
<p>Add the new operation in the <code>model</code> project, for example:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">SMITHY</label><label for="__tabbed_4_2">OPENAPI</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>In <code>model/src/main/smithy/main.smithy</code>, or another <code>.smithy</code> file somewhere in <code>model/src/main/smithy</code>, define the operation:</p>
<div class="highlight"><pre><span></span><code><span class="cm">/// Documentation about your operation can go here</span>
<span class="nd">@http</span>(<span class="nl">method:</span><span class="w"> </span><span class="s2">&quot;POST&quot;</span><span class="p">,</span><span class="w"> </span><span class="nl">uri:</span><span class="w"> </span><span class="s2">&quot;/goodbye&quot;</span>)
<span class="kd">operation</span><span class="nc"> SayGoodbye</span><span class="w"> </span>{
<span class="w">    </span><span class="vc">input</span><span class="w"> </span><span class="p">:</span><span class="nd">=</span><span class="w"> </span>{
<span class="w">        </span><span class="nd">@required</span>
<span class="w">        </span><span class="nl">name:</span><span class="w"> </span><span class="vc">String</span>
<span class="w">    </span>}
<span class="w">    </span><span class="vc">output</span><span class="w"> </span><span class="p">:</span><span class="nd">=</span><span class="w"> </span>{
<span class="w">        </span><span class="nd">@required</span>
<span class="w">        </span><span class="nl">message:</span><span class="w"> </span><span class="vc">String</span>
<span class="w">    </span>}
}
</code></pre></div>
<p>Register the operation to the service in <code>main.smithy</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@restJson1</span>
<span class="kd">service</span><span class="nc"> MyService</span><span class="w"> </span>{
<span class="w">    </span><span class="nl">version:</span><span class="w"> </span><span class="s2">&quot;1.0&quot;</span>
<span class="w">    </span><span class="nl">operations:</span><span class="w"> </span>[
<span class="w">        </span><span class="vc">SayHello</span>
<span class="w">        </span><span class="vc">SayGoodbye</span><span class="w"> </span><span class="c">// &lt;- add your new operation here</span>
<span class="w">    </span>]
}
</code></pre></div>
</div>
<div class="tabbed-block">
<p>In <code>model/src/main/openapi/main.yaml</code>, add the new operation under <code>paths</code>, and any new schemas under <code>components.schemas</code>.</p>
<div class="highlight"><pre><span></span><code><span class="nt">paths</span><span class="p">:</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain"># Add the operation under &quot;paths&quot;</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">/goodbye</span><span class="p p-Indicator">:</span>
<span class="w">        </span><span class="nt">post</span><span class="p">:</span>
<span class="w">            </span><span class="nt">operationId</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sayGoodbye</span>
<span class="w">            </span><span class="nt">requestBody</span><span class="p">:</span>
<span class="w">                </span><span class="nt">content</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">application/json</span><span class="p">:</span>
<span class="w">                        </span><span class="c1"># We can define the request body inline or use a ref</span>
<span class="w">                        </span><span class="nt">schema</span><span class="p">:</span>
<span class="w">                            </span><span class="nt">$ref</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;#/components/schemas/SayGoodbyeRequest&quot;</span>
<span class="w">            </span><span class="nt">responses</span><span class="p">:</span>
<span class="w">                </span><span class="nt">200</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Successful Response</span>
<span class="w">                    </span><span class="nt">content</span><span class="p">:</span>
<span class="w">                        </span><span class="nt">application/json</span><span class="p">:</span>
<span class="w">                            </span><span class="c1"># We can define the response body inline or use a ref</span>
<span class="w">                            </span><span class="nt">schema</span><span class="p">:</span>
<span class="w">                                </span><span class="nt">$ref</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;#/components/schemas/SayGoodbyeResponse&quot;</span>
<span class="nt">components</span><span class="p">:</span>
<span class="w">    </span><span class="nt">schemas</span><span class="p">:</span>
<span class="w">        </span><span class="c1"># Add components here</span>
<span class="w">        </span><span class="nt">SayGoodbyeRequest</span><span class="p">:</span>
<span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span>
<span class="w">            </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">                </span><span class="nt">name</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">            </span><span class="nt">required</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">name</span>
<span class="w">        </span><span class="nt">SayGoodbyeResponse</span><span class="p">:</span>
<span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span>
<span class="w">            </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">                </span><span class="nt">message</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">            </span><span class="nt">required</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">message</span>
</code></pre></div>
<p>Note: You can split your API into multiple <code>yaml</code> files. For more information, refer to <a href="using_openapi.html">Using OpenAPI</a>.</p>
</div>
</div>
</div>
<h3 id="build-your-project">Build your project</h3>
<p>To run a build in the root of your monorepo, use your package manager's build command.</p>
<div class="highlight"><pre><span></span><code>yarn build
</code></pre></div>
<p>The build will regenerate the infrastructure, runtime, documentation, and library projects based on your updated model.</p>
<p>As you must define an integration for every operation, you may see the following build error in your CDK application.</p>
<div class="highlight"><pre><span></span><code><span class="nx">TSError</span><span class="o">:</span><span class="w"> </span><span class="err">⨯</span><span class="w"> </span><span class="nx">Unable</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">compile</span><span class="w"> </span><span class="nx">TypeScript</span><span class="o">:</span>
<span class="kt">src</span><span class="o">/</span><span class="nx">main</span><span class="p">.</span><span class="nx">ts</span><span class="p">(</span><span class="mf">16</span><span class="p">,</span><span class="mf">7</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">error</span><span class="w"> </span><span class="nx">TS2741</span><span class="o">:</span><span class="w"> </span><span class="kt">Property</span><span class="w"> </span><span class="s1">&#39;sayGoodbye&#39;</span><span class="w"> </span><span class="nx">is</span><span class="w"> </span><span class="nx">missing</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="s1">&#39;{ sayHello: { integration: Integration; }; }&#39;</span><span class="w"> </span><span class="nx">but</span><span class="w"> </span><span class="nx">required</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="s1">&#39;Operation</span>
<span class="s1">Config&lt;TypeSafeApiIntegration&gt;&#39;</span><span class="p">.</span>
</code></pre></div>
<p>This is expected, so follow these steps to add an integration.</p>
<h3 id="add-an-integration">Add an integration</h3>
<p>In your CDK application, add an integration for your new operation in the <code>Api</code> construct:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:3"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><input id="__tabbed_5_3" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">TS</label><label for="__tabbed_5_2">JAVA</label><label for="__tabbed_5_3">PYTHON</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="ow">new</span><span class="w"> </span><span class="nx">Api</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;MyApi&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="p">...</span>
<span class="w">  </span><span class="nx">integrations</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">sayHello</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">integration</span><span class="o">:</span><span class="w"> </span><span class="kt">Integrations.lambda</span><span class="p">(</span>
<span class="w">        </span><span class="ow">new</span><span class="w"> </span><span class="nx">NodejsFunction</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SayHelloLambda&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nx">entry</span><span class="o">:</span><span class="w"> </span><span class="kt">path.resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;say-hello.ts&quot;</span><span class="p">),</span>
<span class="w">        </span><span class="p">})</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="c1">// Add the new integration here</span>
<span class="w">    </span><span class="nx">sayGoodbye</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">integration</span><span class="o">:</span><span class="w"> </span><span class="kt">Integrations.lambda</span><span class="p">(</span>
<span class="w">        </span><span class="ow">new</span><span class="w"> </span><span class="nx">NodejsFunction</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SayGoodbyeLambda&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="c1">// Point at say-goodbye.ts which we&#39;ll define next</span>
<span class="w">          </span><span class="nx">entry</span><span class="o">:</span><span class="w"> </span><span class="kt">path.resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;say-goodbye.ts&quot;</span><span class="p">),</span>
<span class="w">        </span><span class="p">})</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">});</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">new</span><span class="w"> </span><span class="n">Api</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Api&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ApiProps</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">        </span><span class="p">...</span>
<span class="w">        </span><span class="p">.</span><span class="na">integrations</span><span class="p">(</span><span class="n">OperationConfig</span><span class="p">.</span><span class="o">&lt;</span><span class="n">TypeSafeApiIntegration</span><span class="o">&gt;</span><span class="n">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">sayHello</span><span class="p">(</span><span class="n">TypeSafeApiIntegration</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                        </span><span class="p">.</span><span class="na">integration</span><span class="p">(</span><span class="n">Integrations</span><span class="p">.</span><span class="na">lambda</span><span class="p">(</span>
<span class="w">                                </span><span class="k">new</span><span class="w"> </span><span class="n">Function</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;say-hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">FunctionProps</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                                        </span><span class="p">.</span><span class="na">code</span><span class="p">(</span><span class="n">Code</span><span class="p">.</span><span class="na">fromAsset</span><span class="p">(</span><span class="s">&quot;../lambdas/dist/java/com/my/api/lambdas/1.0.0/lambdas-1.0.0.jar&quot;</span><span class="p">))</span>
<span class="w">                                        </span><span class="p">.</span><span class="na">handler</span><span class="p">(</span><span class="s">&quot;com.my.api.SayHelloHandler&quot;</span><span class="p">)</span>
<span class="w">                                        </span><span class="p">.</span><span class="na">runtime</span><span class="p">(</span><span class="n">Runtime</span><span class="p">.</span><span class="na">JAVA_17</span><span class="p">)</span>
<span class="w">                                        </span><span class="p">.</span><span class="na">timeout</span><span class="p">(</span><span class="n">Duration</span><span class="p">.</span><span class="na">seconds</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
<span class="w">                                        </span><span class="p">.</span><span class="na">build</span><span class="p">())))</span>
<span class="w">                        </span><span class="p">.</span><span class="na">build</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">())</span>
<span class="w">                </span><span class="c1">// Add the new integration here</span>
<span class="w">                </span><span class="p">.</span><span class="na">sayGoodbye</span><span class="p">(</span><span class="n">TypeSafeApiIntegration</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                        </span><span class="p">.</span><span class="na">integration</span><span class="p">(</span><span class="n">Integrations</span><span class="p">.</span><span class="na">lambda</span><span class="p">(</span>
<span class="w">                                </span><span class="k">new</span><span class="w"> </span><span class="n">Function</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;say-goodbye&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">FunctionProps</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                                        </span><span class="c1">// We&#39;ll point at the same jar and define our handler in the same &quot;lambdas&quot; package</span>
<span class="w">                                        </span><span class="p">.</span><span class="na">code</span><span class="p">(</span><span class="n">Code</span><span class="p">.</span><span class="na">fromAsset</span><span class="p">(</span><span class="s">&quot;../lambdas/dist/java/com/my/api/lambdas/1.0.0/lambdas-1.0.0.jar&quot;</span><span class="p">))</span>
<span class="w">                                        </span><span class="c1">// Point to SayGoodbyeHandler which we&#39;ll define next</span>
<span class="w">                                        </span><span class="p">.</span><span class="na">handler</span><span class="p">(</span><span class="s">&quot;com.my.api.SayGoodbyeHandler&quot;</span><span class="p">)</span>
<span class="w">                                        </span><span class="p">.</span><span class="na">runtime</span><span class="p">(</span><span class="n">Runtime</span><span class="p">.</span><span class="na">JAVA_17</span><span class="p">)</span>
<span class="w">                                        </span><span class="p">.</span><span class="na">timeout</span><span class="p">(</span><span class="n">Duration</span><span class="p">.</span><span class="na">seconds</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
<span class="w">                                        </span><span class="p">.</span><span class="na">build</span><span class="p">())))</span>
<span class="w">                        </span><span class="p">.</span><span class="na">build</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">())</span>
<span class="w">        </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">Api</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Api&#39;</span><span class="p">,</span>
    <span class="o">...</span>
    <span class="n">integrations</span><span class="o">=</span><span class="n">OperationConfig</span><span class="p">(</span>
        <span class="n">say_hello</span><span class="o">=</span><span class="n">TypeSafeApiIntegration</span><span class="p">(</span>
            <span class="n">integration</span><span class="o">=</span><span class="n">Integrations</span><span class="o">.</span><span class="n">lambda_</span><span class="p">(</span><span class="n">Function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;SayHello&#39;</span><span class="p">,</span>
                <span class="n">runtime</span><span class="o">=</span><span class="n">Runtime</span><span class="o">.</span><span class="n">PYTHON_3_9</span><span class="p">,</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Code</span><span class="o">.</span><span class="n">from_asset</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">,</span> <span class="s2">&quot;lambdas&quot;</span><span class="p">,</span> <span class="s2">&quot;lambda-dist&quot;</span><span class="p">)),</span>
                <span class="n">handler</span><span class="o">=</span><span class="s2">&quot;lambdas.say_hello.handler&quot;</span><span class="p">,</span>
            <span class="p">)),</span>
        <span class="p">),</span>
        <span class="c1"># Add the new integration here</span>
        <span class="n">say_goodbye</span><span class="o">=</span><span class="n">TypeSafeApiIntegration</span><span class="p">(</span>
            <span class="n">integration</span><span class="o">=</span><span class="n">Integrations</span><span class="o">.</span><span class="n">lambda_</span><span class="p">(</span><span class="n">Function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;SayHello&#39;</span><span class="p">,</span>
                <span class="n">runtime</span><span class="o">=</span><span class="n">Runtime</span><span class="o">.</span><span class="n">PYTHON_3_9</span><span class="p">,</span>
                <span class="c1"># We&#39;ll point to the same distributable in the &quot;lambdas&quot; package</span>
                <span class="n">code</span><span class="o">=</span><span class="n">Code</span><span class="o">.</span><span class="n">from_asset</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">,</span> <span class="s2">&quot;lambdas&quot;</span><span class="p">,</span> <span class="s2">&quot;lambda-dist&quot;</span><span class="p">)),</span>
                <span class="c1"># But this time we point to the handler method in say_goodbye.py which we&#39;ll define next</span>
                <span class="n">handler</span><span class="o">=</span><span class="s2">&quot;lambdas.say_goodbye.handler&quot;</span><span class="p">,</span>
            <span class="p">)),</span>
        <span class="p">),</span>
    <span class="p">),</span>
<span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="implement-the-lambda-handler">Implement the Lambda handler</h3>
<p>After you add the integration, implement the API operation:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:3"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><input id="__tabbed_6_3" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">TS</label><label for="__tabbed_6_2">JAVA</label><label for="__tabbed_6_3">PYTHON</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Add the new handler in <code>packages/infra/src/say-goodbye.ts</code>:</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">sayGoodbyeHandler</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;myapi-typescript-runtime&quot;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">handler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">sayGoodbyeHandler</span><span class="p">(</span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">input</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">statusCode</span><span class="o">:</span><span class="w"> </span><span class="kt">200</span><span class="p">,</span>
<span class="w">    </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// This time we&#39;re referencing the name parameter from the POST request body</span>
<span class="w">      </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="sb">`Goodbye </span><span class="si">${</span><span class="nx">input</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">});</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>In your <code>lambdas</code> project, define your new lambda handler: <code>packages/lambdas/src/main/java/com/my/api/SayGoodbyeHandler.java</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.my.api</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.generated.api.myapijavaruntime.runtime.api.Handlers.SayGoodbye</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.generated.api.myapijavaruntime.runtime.api.Handlers.SayGoodbye200Response</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.generated.api.myapijavaruntime.runtime.api.Handlers.SayGoodbyeRequestInput</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.generated.api.myapijavaruntime.runtime.api.Handlers.SayGoodbyeResponse</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.generated.api.myapijavaruntime.runtime.model.SayGoodbyeResponseContent</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SayGoodbyeHandler</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">SayGoodbye</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">SayGoodbyeResponse</span><span class="w"> </span><span class="nf">handle</span><span class="p">(</span><span class="n">SayGoodbyeRequestInput</span><span class="w"> </span><span class="n">sayGoodbyeRequestInput</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">SayGoodbye200Response</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">SayGoodbyeResponseContent</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">message</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;Goodbye %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">sayGoodbyeRequestInput</span><span class="p">.</span><span class="na">getInput</span><span class="p">().</span><span class="na">getBody</span><span class="p">().</span><span class="na">getName</span><span class="p">()))</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>In your <code>lambdas</code> project, define your new lambda handler: <code>packages/lambdas/lambdas/say_goodbye.py</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">myapi_python_runtime.model.say_goodbye_response_content</span> <span class="kn">import</span> <span class="n">SayGoodbyeResponseContent</span>
<span class="kn">from</span> <span class="nn">myapi_python_runtime.apis.tags.default_api_operation_config</span> <span class="kn">import</span> <span class="n">say_goodbye_handler</span><span class="p">,</span>
    <span class="n">SayGoodbyeRequest</span><span class="p">,</span> <span class="n">SayGoodbyeOperationResponses</span><span class="p">,</span> <span class="n">ApiResponse</span>


<span class="nd">@say_goodbye_handler</span>
<span class="k">def</span> <span class="nf">handler</span><span class="p">(</span><span class="nb">input</span><span class="p">:</span> <span class="n">SayGoodbyeRequest</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SayGoodbyeOperationResponses</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">ApiResponse</span><span class="p">(</span>
        <span class="n">status_code</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
        <span class="n">body</span><span class="o">=</span><span class="n">SayGoodbyeResponseContent</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s2">&quot;Goodbye </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">input</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])),</span>
        <span class="n">headers</span><span class="o">=</span><span class="p">{}</span>
    <span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="deploy-your-project">Deploy your project</h3>
<p>After you implement your new operation, build your project again using <code>yarn build</code>, deploy, and try out your new operation.</p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      2023-08-14
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 Amazon Web Services, Inc.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://aws.amazon.com" target="_blank" rel="noopener" title="Amazon Web Services, Inc." class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M180.41 203.01c-.72 22.65 10.6 32.68 10.88 39.05a8.164 8.164 0 0 1-4.1 6.27l-12.8 8.96a10.66 10.66 0 0 1-5.63 1.92c-.43-.02-8.19 1.83-20.48-25.61a78.608 78.608 0 0 1-62.61 29.45c-16.28.89-60.4-9.24-58.13-56.21-1.59-38.28 34.06-62.06 70.93-60.05 7.1.02 21.6.37 46.99 6.27v-15.62c2.69-26.46-14.7-46.99-44.81-43.91-2.4.01-19.4-.5-45.84 10.11-7.36 3.38-8.3 2.82-10.75 2.82-7.41 0-4.36-21.48-2.94-24.2 5.21-6.4 35.86-18.35 65.94-18.18a76.857 76.857 0 0 1 55.69 17.28 70.285 70.285 0 0 1 17.67 52.36l-.01 69.29zM93.99 235.4c32.43-.47 46.16-19.97 49.29-30.47 2.46-10.05 2.05-16.41 2.05-27.4-9.67-2.32-23.59-4.85-39.56-4.87-15.15-1.14-42.82 5.63-41.74 32.26-1.24 16.79 11.12 31.4 29.96 30.48zm170.92 23.05c-7.86.72-11.52-4.86-12.68-10.37l-49.8-164.65c-.97-2.78-1.61-5.65-1.92-8.58a4.61 4.61 0 0 1 3.86-5.25c.24-.04-2.13 0 22.25 0 8.78-.88 11.64 6.03 12.55 10.37l35.72 140.83 33.16-140.83c.53-3.22 2.94-11.07 12.8-10.24h17.16c2.17-.18 11.11-.5 12.68 10.37l33.42 142.63L420.98 80.1c.48-2.18 2.72-11.37 12.68-10.37h19.72c.85-.13 6.15-.81 5.25 8.58-.43 1.85 3.41-10.66-52.75 169.9-1.15 5.51-4.82 11.09-12.68 10.37h-18.69c-10.94 1.15-12.51-9.66-12.68-10.75L328.67 110.7l-32.78 136.99c-.16 1.09-1.73 11.9-12.68 10.75h-18.3zm273.48 5.63c-5.88.01-33.92-.3-57.36-12.29a12.802 12.802 0 0 1-7.81-11.91v-10.75c0-8.45 6.2-6.9 8.83-5.89 10.04 4.06 16.48 7.14 28.81 9.6 36.65 7.53 52.77-2.3 56.72-4.48 13.15-7.81 14.19-25.68 5.25-34.95-10.48-8.79-15.48-9.12-53.13-21-4.64-1.29-43.7-13.61-43.79-52.36-.61-28.24 25.05-56.18 69.52-55.95 12.67-.01 46.43 4.13 55.57 15.62 1.35 2.09 2.02 4.55 1.92 7.04v10.11c0 4.44-1.62 6.66-4.87 6.66-7.71-.86-21.39-11.17-49.16-10.75-6.89-.36-39.89.91-38.41 24.97-.43 18.96 26.61 26.07 29.7 26.89 36.46 10.97 48.65 12.79 63.12 29.58 17.14 22.25 7.9 48.3 4.35 55.44-19.08 37.49-68.42 34.44-69.26 34.42zm40.2 104.86c-70.03 51.72-171.69 79.25-258.49 79.25A469.127 469.127 0 0 1 2.83 327.46c-6.53-5.89-.77-13.96 7.17-9.47a637.37 637.37 0 0 0 316.88 84.12 630.22 630.22 0 0 0 241.59-49.55c11.78-5 21.77 7.8 10.12 16.38zm29.19-33.29c-8.96-11.52-59.28-5.38-81.81-2.69-6.79.77-7.94-5.12-1.79-9.47 40.07-28.17 105.88-20.1 113.44-10.63 7.55 9.47-2.05 75.41-39.56 106.91-5.76 4.87-11.27 2.3-8.71-4.1 8.44-21.25 27.39-68.49 18.43-80.02z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["toc.follow", "navigation.indexes", "navigation.instant", "navigation.tabs"], "search": "../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>