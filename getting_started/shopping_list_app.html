
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="AWS Project Development Kit (PDK)">
      
      
      
        <link rel="canonical" href="https://github.com/aws/aws-pdk/getting_started/shopping_list_app.html">
      
      
        <link rel="prev" href="your_first_aws_pdk_project.html">
      
      
        <link rel="next" href="../developer_guides/index.html">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.20">
    
    
      
        <title>2. Shopping List application - AWS Project Development Kit (PDK)</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.eebd395e.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#create-a-shopping-list-application-using-the-aws-pdk" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="AWS Project Development Kit (PDK)" class="md-header__button md-logo" aria-label="AWS Project Development Kit (PDK)" data-md-component="logo">
      
  <img src="../assets/images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AWS Project Development Kit (PDK)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              2. Shopping List application
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/aws/aws-pdk" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    aws/aws-pdk
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../overview/index.html" class="md-tabs__link">
        Overview
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="index.html" class="md-tabs__link md-tabs__link--active">
        Getting started
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../developer_guides/index.html" class="md-tabs__link">
        Developer Guides
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../api/index.html" class="md-tabs__link">
        API Reference
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../faqs/index.html" class="md-tabs__link">
        FAQs
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../contributing/index.html" class="md-tabs__link">
        Contributing
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="https://github.com/aws/aws-pdk/releases" class="md-tabs__link">
      Release notes
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="AWS Project Development Kit (PDK)" class="md-nav__button md-logo" aria-label="AWS Project Development Kit (PDK)" data-md-component="logo">
      
  <img src="../assets/images/logo.png" alt="logo">

    </a>
    AWS Project Development Kit (PDK)
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/aws/aws-pdk" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    aws/aws-pdk
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../overview/index.html">Overview</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Overview
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="index.html">Getting started</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="migration_guide.html" class="md-nav__link">
        Migration guide
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" checked>
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
          Learning Series
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Learning Series
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="your_first_aws_pdk_project.html" class="md-nav__link">
        1. Your first AWS PDK project
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          2. Shopping List application
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="shopping_list_app.html" class="md-nav__link md-nav__link--active">
        2. Shopping List application
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submodule-1-defining-your-api-in-smithy" class="md-nav__link">
    Submodule 1: Defining your API in Smithy
  </a>
  
    <nav class="md-nav" aria-label="Submodule 1: Defining your API in Smithy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#definining-our-types" class="md-nav__link">
    Definining our types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#define-our-operations" class="md-nav__link">
    Define our operations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expose-our-operations-to-the-api" class="md-nav__link">
    Expose our operations to the API
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-the-api" class="md-nav__link">
    Build the API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submodule-2-implement-your-api-operation-handlers-business-logic" class="md-nav__link">
    Submodule 2: Implement your API operation handlers (business logic)
  </a>
  
    <nav class="md-nav" aria-label="Submodule 2: Implement your API operation handlers (business logic)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-any-additional-dependencies" class="md-nav__link">
    Install any additional dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implement-the-handlers" class="md-nav__link">
    Implement the handlers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submodule-3-configure-and-deploy-your-api" class="md-nav__link">
    Submodule 3: Configure and deploy your API
  </a>
  
    <nav class="md-nav" aria-label="Submodule 3: Configure and deploy your API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-database-construct" class="md-nav__link">
    Create a Database construct
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modify-api-construct" class="md-nav__link">
    Modify API construct
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wire-in-the-databaseconstruct" class="md-nav__link">
    Wire in the DatabaseConstruct
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-our-updated-api" class="md-nav__link">
    Deploy our updated API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submodule-4-build-a-shopping-list-ui" class="md-nav__link">
    Submodule 4: Build a Shopping List UI
  </a>
  
    <nav class="md-nav" aria-label="Submodule 4: Build a Shopping List UI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-new-pages-components" class="md-nav__link">
    Create new pages &amp; components
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wire-in-the-new-pages" class="md-nav__link">
    Wire in the new pages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-out-our-new-ui" class="md-nav__link">
    Testing out our new UI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploying-our-website-to-cloudfront" class="md-nav__link">
    Deploying our website to Cloudfront
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    Next Steps
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../developer_guides/index.html">Developer Guides</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Developer Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../developer_guides/aws-arch/index.html">aws-arch</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          aws-arch
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../developer_guides/cdk-graph/index.html">cdk-graph</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          cdk-graph
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../developer_guides/cdk-graph-plugin-diagram/index.html">cdk-graph-plugin-diagram</a>
          
            <label for="__nav_3_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          cdk-graph-plugin-diagram
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/cdk-graph-plugin-diagram/drawio.html" class="md-nav__link">
        Drawio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/cdk-graph-plugin-diagram/graphviz.html" class="md-nav__link">
        Graphviz
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../developer_guides/cdk-graph-plugin-threat-composer/index.html">cdk-graph-plugin-threat-composer</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_5">
          <span class="md-nav__icon md-icon"></span>
          cdk-graph-plugin-threat-composer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../developer_guides/cloudscape-react-ts-website/index.html">cloudscape-react-ts-website</a>
          
            <label for="__nav_3_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_6">
          <span class="md-nav__icon md-icon"></span>
          cloudscape-react-ts-website
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/cloudscape-react-ts-website/api_explorer.html" class="md-nav__link">
        API Explorer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/cloudscape-react-ts-website/troubleshooting.html" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../developer_guides/identity/index.html">identity</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_7">
          <span class="md-nav__icon md-icon"></span>
          identity
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../developer_guides/infrastructure/index.html">infrastructure</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_8">
          <span class="md-nav__icon md-icon"></span>
          infrastructure
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_9" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../developer_guides/monorepo/index.html">monorepo</a>
          
            <label for="__nav_3_9">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_9">
          <span class="md-nav__icon md-icon"></span>
          monorepo
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/monorepo/synthesis.html" class="md-nav__link">
        Synthesis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/monorepo/building.html" class="md-nav__link">
        Building your projects
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/monorepo/dependencies.html" class="md-nav__link">
        Dependencies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/monorepo/caching.html" class="md-nav__link">
        Caching
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/monorepo/dependency_visualization.html" class="md-nav__link">
        Dependency Visualization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/monorepo/escape_hatches.html" class="md-nav__link">
        Escape hatches
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/monorepo/troubleshooting.html" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../developer_guides/pdk-nag/index.html">pdk-nag</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_10">
          <span class="md-nav__icon md-icon"></span>
          pdk-nag
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_11" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../developer_guides/pipeline/index.html">pipeline</a>
          
            <label for="__nav_3_11">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_11_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_11">
          <span class="md-nav__icon md-icon"></span>
          pipeline
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/pipeline/troubleshooting.html" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_12" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../developer_guides/static-website/index.html">static-website</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_12_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_12">
          <span class="md-nav__icon md-icon"></span>
          static-website
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_13" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../developer_guides/type-safe-api/index.html">type-safe-api</a>
          
            <label for="__nav_3_13">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_13_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_13">
          <span class="md-nav__icon md-icon"></span>
          type-safe-api
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/type-safe-api/using_smithy.html" class="md-nav__link">
        Using Smithy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/type-safe-api/using_openapi.html" class="md-nav__link">
        Using OpenAPI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/type-safe-api/lambda_handlers.html" class="md-nav__link">
        Lambda Handlers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/type-safe-api/interceptors.html" class="md-nav__link">
        Interceptors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/type-safe-api/integrations.html" class="md-nav__link">
        Integrations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/type-safe-api/mocking_responses.html" class="md-nav__link">
        Mocking Responses
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/type-safe-api/authorizers.html" class="md-nav__link">
        Authorizers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/type-safe-api/api_keys.html" class="md-nav__link">
        API Keys
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/type-safe-api/typescript_react_query_hooks.html" class="md-nav__link">
        React Query Hooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/type-safe-api/custom_integration_ecs.html" class="md-nav__link">
        Custom Integration: ECS & NLB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_guides/type-safe-api/troubleshooting.html" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/index.html">API Reference</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          API Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
          typescript
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          typescript
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_1" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/typescript/aws-arch/index.html">aws-arch</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_1">
          <span class="md-nav__icon md-icon"></span>
          aws-arch
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_2" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/typescript/cdk-graph/index.html">cdk-graph</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_2">
          <span class="md-nav__icon md-icon"></span>
          cdk-graph
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_3" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/typescript/cdk-graph-plugin-diagram/index.html">cdk-graph-plugin-diagram</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_3">
          <span class="md-nav__icon md-icon"></span>
          cdk-graph-plugin-diagram
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_4" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/typescript/cdk-graph-plugin-threat-composer/index.html">cdk-graph-plugin-threat-composer</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_4">
          <span class="md-nav__icon md-icon"></span>
          cdk-graph-plugin-threat-composer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_5" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/typescript/cloudscape-react-ts-website/index.html">cloudscape-react-ts-website</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_5">
          <span class="md-nav__icon md-icon"></span>
          cloudscape-react-ts-website
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_6" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/typescript/identity/index.html">identity</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_6">
          <span class="md-nav__icon md-icon"></span>
          identity
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_7" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/typescript/infrastructure/index.html">infrastructure</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_7">
          <span class="md-nav__icon md-icon"></span>
          infrastructure
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_8" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/typescript/monorepo/index.html">monorepo</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_8">
          <span class="md-nav__icon md-icon"></span>
          monorepo
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_9" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/typescript/pdk-nag/index.html">pdk-nag</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_9">
          <span class="md-nav__icon md-icon"></span>
          pdk-nag
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_10" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/typescript/pipeline/index.html">pipeline</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_10">
          <span class="md-nav__icon md-icon"></span>
          pipeline
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_11" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/typescript/static-website/index.html">static-website</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_11_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_11">
          <span class="md-nav__icon md-icon"></span>
          static-website
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_12" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/typescript/type-safe-api/index.html">type-safe-api</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_12_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_12">
          <span class="md-nav__icon md-icon"></span>
          type-safe-api
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
          python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_1" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/python/aws-arch/index.html">aws-arch</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_1">
          <span class="md-nav__icon md-icon"></span>
          aws-arch
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_2" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/python/cdk-graph/index.html">cdk-graph</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_2">
          <span class="md-nav__icon md-icon"></span>
          cdk-graph
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_3" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/python/cdk-graph-plugin-diagram/index.html">cdk-graph-plugin-diagram</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_3">
          <span class="md-nav__icon md-icon"></span>
          cdk-graph-plugin-diagram
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_4" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/python/cdk-graph-plugin-threat-composer/index.html">cdk-graph-plugin-threat-composer</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_4">
          <span class="md-nav__icon md-icon"></span>
          cdk-graph-plugin-threat-composer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_5" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/python/cloudscape-react-ts-website/index.html">cloudscape-react-ts-website</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_5">
          <span class="md-nav__icon md-icon"></span>
          cloudscape-react-ts-website
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_6" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/python/identity/index.html">identity</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_6">
          <span class="md-nav__icon md-icon"></span>
          identity
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_7" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/python/infrastructure/index.html">infrastructure</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_7">
          <span class="md-nav__icon md-icon"></span>
          infrastructure
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_8" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/python/monorepo/index.html">monorepo</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_8">
          <span class="md-nav__icon md-icon"></span>
          monorepo
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_9" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/python/pdk-nag/index.html">pdk-nag</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_9">
          <span class="md-nav__icon md-icon"></span>
          pdk-nag
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_10" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/python/pipeline/index.html">pipeline</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_10">
          <span class="md-nav__icon md-icon"></span>
          pipeline
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_11" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/python/static-website/index.html">static-website</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_11_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_11">
          <span class="md-nav__icon md-icon"></span>
          static-website
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_12" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/python/type-safe-api/index.html">type-safe-api</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_12_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_12">
          <span class="md-nav__icon md-icon"></span>
          type-safe-api
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
          java
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          java
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_1" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/java/aws-arch/index.html">aws-arch</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_1">
          <span class="md-nav__icon md-icon"></span>
          aws-arch
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_2" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/java/cdk-graph/index.html">cdk-graph</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_2">
          <span class="md-nav__icon md-icon"></span>
          cdk-graph
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_3" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/java/cdk-graph-plugin-diagram/index.html">cdk-graph-plugin-diagram</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_3">
          <span class="md-nav__icon md-icon"></span>
          cdk-graph-plugin-diagram
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_4" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/java/cdk-graph-plugin-threat-composer/index.html">cdk-graph-plugin-threat-composer</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_4">
          <span class="md-nav__icon md-icon"></span>
          cdk-graph-plugin-threat-composer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_5" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/java/cloudscape-react-ts-website/index.html">cloudscape-react-ts-website</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_5">
          <span class="md-nav__icon md-icon"></span>
          cloudscape-react-ts-website
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_6" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/java/identity/index.html">identity</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_6">
          <span class="md-nav__icon md-icon"></span>
          identity
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_7" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/java/infrastructure/index.html">infrastructure</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_7">
          <span class="md-nav__icon md-icon"></span>
          infrastructure
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_8" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/java/monorepo/index.html">monorepo</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_8">
          <span class="md-nav__icon md-icon"></span>
          monorepo
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_9" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/java/pdk-nag/index.html">pdk-nag</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_9">
          <span class="md-nav__icon md-icon"></span>
          pdk-nag
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_10" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/java/pipeline/index.html">pipeline</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_10">
          <span class="md-nav__icon md-icon"></span>
          pipeline
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_11" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/java/static-website/index.html">static-website</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_11_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_11">
          <span class="md-nav__icon md-icon"></span>
          static-website
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_12" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../api/java/type-safe-api/index.html">type-safe-api</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_12_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_12">
          <span class="md-nav__icon md-icon"></span>
          type-safe-api
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../faqs/index.html">FAQs</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          FAQs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../contributing/index.html">Contributing</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Contributing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/aws/aws-pdk/releases" class="md-nav__link">
        Release notes
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submodule-1-defining-your-api-in-smithy" class="md-nav__link">
    Submodule 1: Defining your API in Smithy
  </a>
  
    <nav class="md-nav" aria-label="Submodule 1: Defining your API in Smithy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#definining-our-types" class="md-nav__link">
    Definining our types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#define-our-operations" class="md-nav__link">
    Define our operations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expose-our-operations-to-the-api" class="md-nav__link">
    Expose our operations to the API
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-the-api" class="md-nav__link">
    Build the API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submodule-2-implement-your-api-operation-handlers-business-logic" class="md-nav__link">
    Submodule 2: Implement your API operation handlers (business logic)
  </a>
  
    <nav class="md-nav" aria-label="Submodule 2: Implement your API operation handlers (business logic)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-any-additional-dependencies" class="md-nav__link">
    Install any additional dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implement-the-handlers" class="md-nav__link">
    Implement the handlers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submodule-3-configure-and-deploy-your-api" class="md-nav__link">
    Submodule 3: Configure and deploy your API
  </a>
  
    <nav class="md-nav" aria-label="Submodule 3: Configure and deploy your API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-database-construct" class="md-nav__link">
    Create a Database construct
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modify-api-construct" class="md-nav__link">
    Modify API construct
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wire-in-the-databaseconstruct" class="md-nav__link">
    Wire in the DatabaseConstruct
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-our-updated-api" class="md-nav__link">
    Deploy our updated API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submodule-4-build-a-shopping-list-ui" class="md-nav__link">
    Submodule 4: Build a Shopping List UI
  </a>
  
    <nav class="md-nav" aria-label="Submodule 4: Build a Shopping List UI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-new-pages-components" class="md-nav__link">
    Create new pages &amp; components
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wire-in-the-new-pages" class="md-nav__link">
    Wire in the new pages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-out-our-new-ui" class="md-nav__link">
    Testing out our new UI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploying-our-website-to-cloudfront" class="md-nav__link">
    Deploying our website to Cloudfront
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    Next Steps
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="create-a-shopping-list-application-using-the-aws-pdk">Create a Shopping List application using the AWS PDK</h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The code shown on this page is intended for demonstration purposes only and does not handle edge cases, perform error handling, etc. As such this code should never be used in a production setting.</p>
<p>Some of the steps in this workshop will create resources that may bill your account. If you do not complete the workshop, you may still have AWS resources that are unknowingly charging your account. To ensure your account is clean after completing this workshop, check out <a href="your_first_aws_pdk_project.html#destroying-the-deployed-resources">how to cleanup deployed resources</a>.</p>
</div>
<p>This workshop will build upon the concepts introduced in the <a href="your_first_aws_pdk_project.html">build your first AWS PDK project</a> and dive a little deeper into what a typical development workflow looks like once you set up your core project structure within the AWS PDK.</p>
<p>You will create a Shopping List application that allows you to create &amp; delete shopping lists along with the ability to add, remove and re-order items within those lists.</p>
<p><img src="../assets/images/shopping_list.png" width="800" /></p>
<p><img src="../assets/images/shopping_list_diagram.png" width="800" /></p>
<p>As part of this workshop, you will learn the following:</p>
<ul>
<li>Understand how to make changes to your <code>projenrc</code> definition.</li>
<li>How to define new API operations in <a href="https://smithy.io/2.0/quickstart.html">Smithy</a>.</li>
<li>Implement business logic for each of your defined API's.</li>
<li>Set up CDK infrastructure to manage your API and Website.</li>
<li>Build frontend code using <a href="https://cloudscape.design/">AWS Cloudscape</a>.</li>
<li>Call your deployed API's using generated type-safe hooks.</li>
</ul>
<h2 id="prerequisites">Prerequisites</h2>
<p>This is a continuation from <a href="your_first_aws_pdk_project.html">build your first AWS PDK project</a> and as such must be completed prior to starting this workshop.</p>
<h2 id="submodule-1-defining-your-api-in-smithy">Submodule 1: Defining your API in Smithy</h2>
<p>In order to define our API, we need to write some <a href="https://smithy.io/2.0/quickstart.html">Smithy</a> code which is contained within <code>packages/api/model/src/main/smithy</code>.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>More detailed information on how to use smithy can be found in the <a href="../developer_guides/type-safe-api/using_smithy.html">Type Safe API Developer Guide</a></p>
</div>
<h3 id="definining-our-types">Definining our types</h3>
<p>Firstly, let's define some types for our Shopping List application by creating the following files:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">types/shopping-list.smithy</label><label for="__tabbed_1_2">types/pagination.smithy</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">$version</span><span class="nd">:</span><span class="nc"> &quot;2&quot;</span>
<span class="kd">namespace</span><span class="nc"> com.aws</span>

<span class="cm">/// Identifier for a Shopping List</span>
<span class="kd">string</span><span class="nc"> ShoppingListId</span>

<span class="cm">/// A Shopping Item is just a string literal</span>
<span class="kd">string</span><span class="nc"> ShoppingItem</span>

<span class="cm">/// Defines the id attribute of the Shopping List</span>
<span class="nd">@mixin</span>
<span class="kd">structure</span><span class="nc"> ShoppingListIdMixin</span><span class="w"> </span>{
<span class="w">    </span><span class="nd">@required</span>
<span class="w">    </span><span class="nl">shoppingListId:</span><span class="w"> </span><span class="vc">ShoppingListId</span>
}

<span class="cm">/// Defines the core attributes of a Shopping List</span>
<span class="nd">@mixin</span>
<span class="kd">structure</span><span class="nc"> ShoppingListMixin</span><span class="w"> </span>{
<span class="w">    </span><span class="nd">@required</span>
<span class="w">    </span><span class="nl">name:</span><span class="w"> </span><span class="vc">String</span>

<span class="w">    </span><span class="nl">shoppingItems:</span><span class="w"> </span><span class="vc">ShoppingItems</span>
}

<span class="cm">/// A Shopping List is a union of these Mixins</span>
<span class="kd">structure</span><span class="nc"> ShoppingList</span><span class="w"> </span><span class="vc">with</span><span class="w"> </span>[<span class="vc">ShoppingListIdMixin</span><span class="p">,</span><span class="w"> </span><span class="vc">ShoppingListMixin</span>]<span class="w"> </span>{}

<span class="cm">/// A collection of Shopping List</span>
<span class="kd">list</span><span class="nc"> ShoppingLists</span><span class="w"> </span>{
<span class="w">    </span><span class="nl">member:</span><span class="w"> </span><span class="vc">ShoppingList</span>
}

<span class="cm">/// A collection of items within a Shopping List</span>
<span class="kd">list</span><span class="nc"> ShoppingItems</span><span class="w"> </span>{
<span class="w">    </span><span class="nl">member:</span><span class="w"> </span><span class="vc">ShoppingItem</span>
}
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">$version</span><span class="nd">:</span><span class="nc"> &quot;2&quot;</span>

<span class="kd">namespace</span><span class="nc"> com.aws</span>

<span class="cm">/// Extends inputs for &quot;list&quot; type operations to accept pagination details</span>
<span class="nd">@mixin</span>
<span class="kd">structure</span><span class="nc"> PaginatedInputMixin</span><span class="w"> </span>{
<span class="w">    </span><span class="cm">/// A token for an additional page of results</span>
<span class="w">    </span><span class="nd">@httpQuery</span>(<span class="s2">&quot;nextToken&quot;</span>)
<span class="w">    </span><span class="nl">nextToken:</span><span class="w"> </span><span class="vc">String</span>

<span class="w">    </span><span class="cm">/// The number of results to return in a page</span>
<span class="w">    </span><span class="nd">@httpQuery</span>(<span class="s2">&quot;pageSize&quot;</span>)
<span class="w">    </span><span class="nl">pageSize:</span><span class="w"> </span><span class="vc">Integer</span>
}

<span class="cm">/// Extends outputs for &quot;list&quot; type operations to return pagination details</span>
<span class="nd">@mixin</span>
<span class="kd">structure</span><span class="nc"> PaginatedOutputMixin</span><span class="w"> </span>{
<span class="w">    </span><span class="cm">/// Pass this in the next request for another page of results</span>
<span class="w">    </span><span class="nl">nextToken:</span><span class="w"> </span><span class="vc">String</span>
}
</code></pre></div>
</div>
</div>
</div>
<h3 id="define-our-operations">Define our operations</h3>
<p>Now let's define our operations. For this application we need 3 operations as follows:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:3"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">operations/put-shopping-list.smithy</label><label for="__tabbed_2_2">operations/delete-shopping-list.smithy</label><label for="__tabbed_2_3">operations/get-shopping-lists.smithy</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">$version</span><span class="nd">:</span><span class="nc"> &quot;2&quot;</span>
<span class="kd">namespace</span><span class="nc"> com.aws</span>

<span class="cm">/// Handles upserting of a Shopping List</span>
<span class="nd">@http</span>(<span class="nl">method:</span><span class="w"> </span><span class="s2">&quot;POST&quot;</span><span class="p">,</span><span class="w"> </span><span class="nl">uri:</span><span class="w"> </span><span class="s2">&quot;/shopping-list&quot;</span>)
<span class="nd">@handler</span>(<span class="nl">language:</span><span class="w"> </span><span class="s2">&quot;typescript&quot;</span>)
<span class="kd">operation</span><span class="nc"> PutShoppingList</span><span class="w"> </span>{
<span class="w">    </span><span class="vc">input</span><span class="w"> </span><span class="p">:</span><span class="nd">=</span><span class="w"> </span><span class="vc">with</span><span class="w"> </span>[<span class="vc">ShoppingListMixin</span>]<span class="w"> </span>{
<span class="w">        </span><span class="nl">shoppingListId:</span><span class="w"> </span><span class="vc">ShoppingListId</span>
<span class="w">    </span>}
<span class="w">    </span><span class="vc">output</span><span class="w"> </span><span class="p">:</span><span class="nd">=</span><span class="w"> </span><span class="vc">with</span><span class="w"> </span>[<span class="vc">ShoppingListIdMixin</span>]<span class="w"> </span>{}
<span class="w">    </span><span class="nl">errors:</span><span class="w"> </span>[<span class="vc">BadRequestError</span>]
}
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">$version</span><span class="nd">:</span><span class="nc"> &quot;2&quot;</span>
<span class="kd">namespace</span><span class="nc"> com.aws</span>

<span class="cm">/// Handles deletion of a Shopping List</span>
<span class="nd">@http</span>(<span class="nl">method:</span><span class="w"> </span><span class="s2">&quot;DELETE&quot;</span><span class="p">,</span><span class="w"> </span><span class="nl">uri:</span><span class="w"> </span><span class="s2">&quot;/shopping-list/{shoppingListId}&quot;</span>)
<span class="nd">@handler</span>(<span class="nl">language:</span><span class="w"> </span><span class="s2">&quot;typescript&quot;</span>)
<span class="kd">operation</span><span class="nc"> DeleteShoppingList</span><span class="w"> </span>{
<span class="w">    </span><span class="vc">input</span><span class="w"> </span><span class="p">:</span><span class="nd">=</span><span class="w"> </span>{
<span class="w">        </span><span class="nd">@required</span>
<span class="w">        </span><span class="nd">@httpLabel</span>
<span class="w">        </span><span class="nl">shoppingListId:</span><span class="w"> </span><span class="vc">ShoppingListId</span>
<span class="w">    </span>}
<span class="w">    </span><span class="vc">output</span><span class="w"> </span><span class="p">:</span><span class="nd">=</span><span class="w"> </span><span class="vc">with</span><span class="w"> </span>[<span class="vc">ShoppingListIdMixin</span>]<span class="w"> </span>{}
<span class="w">    </span><span class="nl">errors:</span><span class="w"> </span>[<span class="vc">NotFoundError</span>]
}
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">$version</span><span class="nd">:</span><span class="nc"> &quot;2&quot;</span>
<span class="kd">namespace</span><span class="nc"> com.aws</span>

<span class="cm">/// Handles fetching of Shopping List(s)</span>
<span class="nd">@readonly</span>
<span class="nd">@http</span>(<span class="nl">method:</span><span class="w"> </span><span class="s2">&quot;GET&quot;</span><span class="p">,</span><span class="w"> </span><span class="nl">uri:</span><span class="w"> </span><span class="s2">&quot;/shopping-list&quot;</span>)
<span class="nd">@paginated</span>(<span class="nl">inputToken:</span><span class="w"> </span><span class="s2">&quot;nextToken&quot;</span><span class="p">,</span><span class="w"> </span><span class="nl">outputToken:</span><span class="w"> </span><span class="s2">&quot;nextToken&quot;</span><span class="p">,</span><span class="w"> </span><span class="nl">pageSize:</span><span class="w"> </span><span class="s2">&quot;pageSize&quot;</span><span class="p">,</span><span class="w"> </span><span class="nl">items:</span><span class="w"> </span><span class="s2">&quot;shoppingLists&quot;</span>)
<span class="nd">@handler</span>(<span class="nl">language:</span><span class="w"> </span><span class="s2">&quot;typescript&quot;</span>)
<span class="kd">operation</span><span class="nc"> GetShoppingLists</span><span class="w"> </span>{
<span class="w">    </span><span class="vc">input</span><span class="w"> </span><span class="p">:</span><span class="nd">=</span><span class="w"> </span><span class="vc">with</span><span class="w"> </span>[<span class="vc">PaginatedInputMixin</span>]<span class="w"> </span>{
<span class="w">        </span><span class="nd">@httpQuery</span>(<span class="s2">&quot;shoppingListId&quot;</span>)
<span class="w">        </span><span class="nl">shoppingListId:</span><span class="w"> </span><span class="vc">ShoppingListId</span>
<span class="w">    </span>}
<span class="w">    </span><span class="vc">output</span><span class="w"> </span><span class="p">:</span><span class="nd">=</span><span class="w"> </span><span class="vc">with</span><span class="w"> </span>[<span class="vc">PaginatedOutputMixin</span>]<span class="w"> </span>{
<span class="w">        </span><span class="cm">/// List of Shopping List</span>
<span class="w">        </span><span class="nd">@required</span>
<span class="w">        </span><span class="nl">shoppingLists:</span><span class="w"> </span><span class="vc">ShoppingLists</span>
<span class="w">    </span>}
}
</code></pre></div>
</div>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The <code>@handler</code> trait is used to automatically generate lambda handler stubs within <code>api/handlers/src</code>, pre-configured with <a href="https://github.com/aws-powertools/">AWS Powertools</a> and all type-safe bindings.</p>
<p>You can generate handlers in either <code>typescript</code>, <code>python</code> or <code>java</code> by simply changing the <code>language</code> attribute.</p>
</div>
<h3 id="expose-our-operations-to-the-api">Expose our operations to the API</h3>
<p>The final step is the ensure our operations are exposed as part of the API by listing them in the <code>operations</code> field as per the below snippet.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:1"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">main.smithy</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">$version</span><span class="nd">:</span><span class="nc"> &quot;2&quot;</span>
<span class="kd">namespace</span><span class="nc"> com.aws</span>

<span class="kd">use</span><span class="nc"> aws.protocols#restJson1</span>

<span class="cm">/// A sample smithy api</span>
<span class="nd">@restJson1</span>
<span class="kd">service</span><span class="nc"> MyApi</span><span class="w"> </span>{
<span class="w">    </span><span class="nl">version:</span><span class="w"> </span><span class="s2">&quot;1.0&quot;</span>
<span class="hll"><span class="w">    </span><span class="nl">operations:</span><span class="w"> </span>[<span class="vc">GetShoppingLists</span><span class="p">,</span><span class="w"> </span><span class="vc">PutShoppingList</span><span class="p">,</span><span class="w"> </span><span class="vc">DeleteShoppingList</span>]
</span><span class="w">    </span><span class="nl">errors:</span><span class="w"> </span>[
<span class="w">        </span><span class="vc">BadRequestError</span>
<span class="w">        </span><span class="vc">NotAuthorizedError</span>
<span class="w">        </span><span class="vc">InternalFailureError</span>
<span class="w">    </span>]
}
</code></pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Given we just removed the <code>SayHello</code> operation, we will also need to delete the following files given they are no longer used:</p>
<ul>
<li><code>packages/api/model/src/main/smithy/operations/say-hello.smithy</code></li>
<li><code>packages/api/handlers/typescript/src/say-hello.ts</code></li>
</ul>
</div>
<h3 id="build-the-api">Build the API</h3>
<p>Now that we have our API defined, the final step is to build our code which will generate all of our type-safe bindings. To do so, run <code>pdk build</code> from the root of your PDK project.</p>
<p>Take some time now to inspect the code that was generated for you in the following locations:</p>
<ul>
<li><code>packages/api/generated/*</code>: You never need to modify code in the subdirectory, althrough you will reference code within here from your infrastructure and client code (i.e: generated hooks).</li>
<li><code>packages/api/handlers</code>: All handler stubs are generated in here, based on the presense of the <code>@handler</code> trait on your API operations. You will typically write all of your API operation handlers (business logic) within this location.</li>
</ul>
<h2 id="submodule-2-implement-your-api-operation-handlers-business-logic">Submodule 2: Implement your API operation handlers (business logic)</h2>
<p>Having built our project, we should now have access to 3 handler stubs which will be located in the <code>/packages/api/handlers/typescript/src</code> directory as follows:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:3"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><input id="__tabbed_4_3" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">put-shopping-list.ts</label><label for="__tabbed_4_2">delete-shopping-list.ts</label><label for="__tabbed_4_3">get-shopping-lists.ts</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">putShoppingListHandler</span><span class="p">,</span>
<span class="w">    </span><span class="nx">PutShoppingListChainedHandlerFunction</span><span class="p">,</span>
<span class="w">    </span><span class="nx">INTERCEPTORS</span><span class="p">,</span>
<span class="w">    </span><span class="nx">Response</span><span class="p">,</span>
<span class="w">    </span><span class="nx">LoggingInterceptor</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;myapi-typescript-runtime&#39;</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Type-safe handler for the PutShoppingList operation</span>
<span class="cm"> */</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">putShoppingList</span><span class="o">:</span><span class="w"> </span><span class="kt">PutShoppingListChainedHandlerFunction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">request</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">LoggingInterceptor</span><span class="p">.</span><span class="nx">getLogger</span><span class="p">(</span><span class="nx">request</span><span class="p">).</span><span class="nx">info</span><span class="p">(</span><span class="s1">&#39;Start PutShoppingList Operation&#39;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// TODO: Implement PutShoppingList Operation. `input` contains the request input.</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">input</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">request</span><span class="p">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">Response</span><span class="p">.</span><span class="nx">internalFailure</span><span class="p">({</span>
<span class="w">        </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Not Implemented!&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * Entry point for the AWS Lambda handler for the PutShoppingList operation.</span>
<span class="cm"> * The putShoppingListHandler method wraps the type-safe handler and manages marshalling inputs and outputs</span>
<span class="cm"> */</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">handler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">putShoppingListHandler</span><span class="p">(...</span><span class="nx">INTERCEPTORS</span><span class="p">,</span><span class="w"> </span><span class="nx">putShoppingList</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">deleteShoppingListHandler</span><span class="p">,</span>
<span class="w">    </span><span class="nx">DeleteShoppingListChainedHandlerFunction</span><span class="p">,</span>
<span class="w">    </span><span class="nx">INTERCEPTORS</span><span class="p">,</span>
<span class="w">    </span><span class="nx">Response</span><span class="p">,</span>
<span class="w">    </span><span class="nx">LoggingInterceptor</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;myapi-typescript-runtime&#39;</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Type-safe handler for the DeleteShoppingList operation</span>
<span class="cm"> */</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">deleteShoppingList</span><span class="o">:</span><span class="w"> </span><span class="kt">DeleteShoppingListChainedHandlerFunction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">request</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">LoggingInterceptor</span><span class="p">.</span><span class="nx">getLogger</span><span class="p">(</span><span class="nx">request</span><span class="p">).</span><span class="nx">info</span><span class="p">(</span><span class="s1">&#39;Start DeleteShoppingList Operation&#39;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// TODO: Implement DeleteShoppingList Operation. `input` contains the request input.</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">input</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">request</span><span class="p">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">Response</span><span class="p">.</span><span class="nx">internalFailure</span><span class="p">({</span>
<span class="w">        </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Not Implemented!&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * Entry point for the AWS Lambda handler for the DeleteShoppingList operation.</span>
<span class="cm"> * The deleteShoppingListHandler method wraps the type-safe handler and manages marshalling inputs and outputs</span>
<span class="cm"> */</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">handler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">deleteShoppingListHandler</span><span class="p">(...</span><span class="nx">INTERCEPTORS</span><span class="p">,</span><span class="w"> </span><span class="nx">deleteShoppingList</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">getShoppingListsHandler</span><span class="p">,</span>
<span class="w">    </span><span class="nx">GetShoppingListsChainedHandlerFunction</span><span class="p">,</span>
<span class="w">    </span><span class="nx">INTERCEPTORS</span><span class="p">,</span>
<span class="w">    </span><span class="nx">Response</span><span class="p">,</span>
<span class="w">    </span><span class="nx">LoggingInterceptor</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;myapi-typescript-runtime&#39;</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Type-safe handler for the GetShoppingLists operation</span>
<span class="cm"> */</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">getShoppingLists</span><span class="o">:</span><span class="w"> </span><span class="kt">GetShoppingListsChainedHandlerFunction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">request</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">LoggingInterceptor</span><span class="p">.</span><span class="nx">getLogger</span><span class="p">(</span><span class="nx">request</span><span class="p">).</span><span class="nx">info</span><span class="p">(</span><span class="s1">&#39;Start GetShoppingLists Operation&#39;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// TODO: Implement GetShoppingLists Operation. `input` contains the request input.</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">input</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">request</span><span class="p">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">Response</span><span class="p">.</span><span class="nx">internalFailure</span><span class="p">({</span>
<span class="w">        </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Not Implemented!&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * Entry point for the AWS Lambda handler for the GetShoppingLists operation.</span>
<span class="cm"> * The getShoppingListsHandler method wraps the type-safe handler and manages marshalling inputs and outputs</span>
<span class="cm"> */</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">handler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getShoppingListsHandler</span><span class="p">(...</span><span class="nx">INTERCEPTORS</span><span class="p">,</span><span class="w"> </span><span class="nx">getShoppingLists</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<p>As you can see, these stubs are already configured using the type-safe bindings and all that is left to do is implement them!</p>
<h3 id="install-any-additional-dependencies">Install any additional dependencies</h3>
<p>Before we can start implementing, we need to first add a new dependency on <strong><code>@aws-sdk/client-dynamodb</code></strong> as we will be using <a href="https://docs.aws.amazon.com/dynamodb/">DynamoDB</a> to store our Shopping Lists. To do this, modify your <code>.projenrc.ts</code> to include the dependency from the handlers package as follows:</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">api</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">TypeSafeApiProject</span><span class="p">({</span>
<span class="w">    </span><span class="p">...</span>
<span class="p">});</span>

<span class="hll"><span class="nx">api</span><span class="p">.</span><span class="nx">handlers</span><span class="p">.</span><span class="nx">typescript</span><span class="o">?</span><span class="p">.</span><span class="nx">addDeps</span><span class="p">(</span><span class="s2">&quot;@aws-sdk/client-dynamodb&quot;</span><span class="p">);</span>
</span></code></pre></div>
<p>Once you have saved your <code>.projenrc.ts</code> file, run <code>pdk</code> from the root to synthesize and install your package.</p>
<h3 id="implement-the-handlers">Implement the handlers</h3>
<p>We now have everything we need to start implementing our handlers. Modify the respective handler files with the contents of the following:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:3"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><input id="__tabbed_5_3" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">put-shopping-list.ts</label><label for="__tabbed_5_2">delete-shopping-list.ts</label><label for="__tabbed_5_3">get-shopping-lists.ts</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><em>Creates or updates a Shopping List based on the presense of a shoppingListId. If present, the operation will update the item matching that key otherwise one will be created.</em></p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">randomUUID</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;crypto&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">DynamoDBClient</span><span class="p">,</span><span class="w"> </span><span class="nx">PutItemCommand</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@aws-sdk/client-dynamodb&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">putShoppingListHandler</span><span class="p">,</span>
<span class="w">    </span><span class="nx">PutShoppingListChainedHandlerFunction</span><span class="p">,</span>
<span class="w">    </span><span class="nx">INTERCEPTORS</span><span class="p">,</span>
<span class="w">    </span><span class="nx">Response</span><span class="p">,</span>
<span class="w">    </span><span class="nx">LoggingInterceptor</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;myapi-typescript-runtime&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">dbclient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">DynamoDBClient</span><span class="p">({</span><span class="w"> </span><span class="nx">region</span><span class="o">:</span><span class="w"> </span><span class="kt">process.env.AWS_REGION</span><span class="w"> </span><span class="p">});</span>

<span class="cm">/**</span>
<span class="cm"> * Type-safe handler for the PutShoppingList operation</span>
<span class="cm"> */</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">putShoppingList</span><span class="o">:</span><span class="w"> </span><span class="kt">PutShoppingListChainedHandlerFunction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">request</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">LoggingInterceptor</span><span class="p">.</span><span class="nx">getLogger</span><span class="p">(</span><span class="nx">request</span><span class="p">).</span><span class="nx">info</span><span class="p">(</span><span class="s1">&#39;Start PutShoppingList Operation&#39;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">shoppingListId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">shoppingListId</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="nx">randomUUID</span><span class="p">();</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">dbclient</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="ow">new</span><span class="w"> </span><span class="nx">PutItemCommand</span><span class="p">({</span>
<span class="w">        </span><span class="nx">TableName</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;shopping_list&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">Item</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">shoppingListId</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nx">S</span><span class="o">:</span><span class="w"> </span><span class="kt">shoppingListId</span><span class="p">,</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nx">S</span><span class="o">:</span><span class="w"> </span><span class="kt">request.input.body.name</span><span class="p">,</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nx">shoppingItems</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nx">S</span><span class="o">:</span><span class="w"> </span><span class="kt">JSON.stringify</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">shoppingItems</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">[]),</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">}));</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">Response</span><span class="p">.</span><span class="nx">success</span><span class="p">({</span>
<span class="w">        </span><span class="nx">shoppingListId</span><span class="p">,</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * Entry point for the AWS Lambda handler for the PutShoppingList operation.</span>
<span class="cm"> * The putShoppingListHandler method wraps the type-safe handler and manages marshalling inputs and outputs</span>
<span class="cm"> */</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">handler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">putShoppingListHandler</span><span class="p">(...</span><span class="nx">INTERCEPTORS</span><span class="p">,</span><span class="w"> </span><span class="nx">putShoppingList</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><em>Deletes a Shopping List given a shoppingListId.</em></p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">DeleteItemCommand</span><span class="p">,</span><span class="w"> </span><span class="nx">DynamoDBClient</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@aws-sdk/client-dynamodb&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">deleteShoppingListHandler</span><span class="p">,</span>
<span class="w">    </span><span class="nx">DeleteShoppingListChainedHandlerFunction</span><span class="p">,</span>
<span class="w">    </span><span class="nx">INTERCEPTORS</span><span class="p">,</span>
<span class="w">    </span><span class="nx">Response</span><span class="p">,</span>
<span class="w">    </span><span class="nx">LoggingInterceptor</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;myapi-typescript-runtime&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">dbclient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">DynamoDBClient</span><span class="p">({</span><span class="w"> </span><span class="nx">region</span><span class="o">:</span><span class="w"> </span><span class="kt">process.env.AWS_REGION</span><span class="w"> </span><span class="p">});</span>

<span class="cm">/**</span>
<span class="cm"> * Type-safe handler for the DeleteShoppingList operation</span>
<span class="cm"> */</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">deleteShoppingList</span><span class="o">:</span><span class="w"> </span><span class="kt">DeleteShoppingListChainedHandlerFunction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">request</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">LoggingInterceptor</span><span class="p">.</span><span class="nx">getLogger</span><span class="p">(</span><span class="nx">request</span><span class="p">).</span><span class="nx">info</span><span class="p">(</span>
<span class="w">        </span><span class="s1">&#39;Start DeleteShoppingList Operation&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">shoppingListId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">requestParameters</span><span class="p">.</span><span class="nx">shoppingListId</span><span class="p">;</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">dbclient</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span>
<span class="w">    </span><span class="ow">new</span><span class="w"> </span><span class="nx">DeleteItemCommand</span><span class="p">({</span>
<span class="w">        </span><span class="nx">TableName</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;shopping_list&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">Key</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">shoppingListId</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nx">S</span><span class="o">:</span><span class="w"> </span><span class="kt">shoppingListId</span><span class="p">,</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">}),</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">Response</span><span class="p">.</span><span class="nx">success</span><span class="p">({</span>
<span class="w">        </span><span class="nx">shoppingListId</span><span class="p">,</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * Entry point for the AWS Lambda handler for the DeleteShoppingList operation.</span>
<span class="cm"> * The deleteShoppingListHandler method wraps the type-safe handler and manages marshalling inputs and outputs</span>
<span class="cm"> */</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">handler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">deleteShoppingListHandler</span><span class="p">(</span>
<span class="w">    </span><span class="p">...</span><span class="nx">INTERCEPTORS</span><span class="p">,</span>
<span class="w">    </span><span class="nx">deleteShoppingList</span><span class="p">,</span>
<span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><em>This logic either calls the Scan or Query command depending on the presense of a shoppingListId request parameter. It also handles pagination based on the presense of a pageSize and/or nextToken. The shoppingItems are stored as a serialized JSON string in the table/</em></p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">DynamoDBClient</span><span class="p">,</span><span class="w"> </span><span class="nx">QueryCommand</span><span class="p">,</span><span class="w"> </span><span class="nx">ScanCommand</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@aws-sdk/client-dynamodb&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">getShoppingListsHandler</span><span class="p">,</span>
<span class="w">    </span><span class="nx">GetShoppingListsChainedHandlerFunction</span><span class="p">,</span>
<span class="w">    </span><span class="nx">INTERCEPTORS</span><span class="p">,</span>
<span class="w">    </span><span class="nx">Response</span><span class="p">,</span>
<span class="w">    </span><span class="nx">LoggingInterceptor</span><span class="p">,</span>
<span class="w">    </span><span class="nx">ShoppingList</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;myapi-typescript-runtime&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">dbclient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">DynamoDBClient</span><span class="p">({</span><span class="w"> </span><span class="nx">region</span><span class="o">:</span><span class="w"> </span><span class="kt">process.env.AWS_REGION</span><span class="w"> </span><span class="p">});</span>

<span class="cm">/**</span>
<span class="cm"> * Type-safe handler for the GetShoppingLists operation</span>
<span class="cm"> */</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">getShoppingLists</span><span class="o">:</span><span class="w"> </span><span class="kt">GetShoppingListsChainedHandlerFunction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">request</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">LoggingInterceptor</span><span class="p">.</span><span class="nx">getLogger</span><span class="p">(</span><span class="nx">request</span><span class="p">).</span><span class="nx">info</span><span class="p">(</span><span class="s1">&#39;Start GetShoppingLists Operation&#39;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">nextToken</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">requestParameters</span><span class="p">.</span><span class="nx">nextToken</span><span class="p">;</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">pageSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">requestParameters</span><span class="p">.</span><span class="nx">pageSize</span><span class="p">;</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">shoppingListId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">requestParameters</span><span class="p">.</span><span class="nx">shoppingListId</span><span class="p">;</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">Command</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">shoppingListId</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">QueryCommand</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">ScanCommand</span><span class="p">;</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">dbclient</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="ow">new</span><span class="w"> </span><span class="nx">Command</span><span class="p">({</span>
<span class="w">        </span><span class="nx">TableName</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;shopping_list&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">ConsistentRead</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
<span class="w">        </span><span class="nx">Limit</span><span class="o">:</span><span class="w"> </span><span class="kt">pageSize</span><span class="p">,</span>
<span class="w">        </span><span class="nx">ExclusiveStartKey</span><span class="o">:</span><span class="w"> </span><span class="kt">nextToken</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">fromToken</span><span class="p">(</span><span class="nx">nextToken</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kc">undefined</span><span class="p">,</span>
<span class="w">        </span><span class="p">...(</span><span class="nx">shoppingListId</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">KeyConditionExpression</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;shoppingListId = :shoppingListId&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">ExpressionAttributeValues</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="s1">&#39;:shoppingListId&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nx">S</span><span class="o">:</span><span class="w"> </span><span class="kt">request.input.requestParameters.shoppingListId</span><span class="o">!</span><span class="p">,</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">{}),</span>
<span class="w">    </span><span class="p">}));</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">Response</span><span class="p">.</span><span class="nx">success</span><span class="p">({</span>
<span class="w">        </span><span class="nx">shoppingLists</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">Items</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">[])</span>
<span class="w">            </span><span class="p">.</span><span class="nx">map</span><span class="o">&lt;</span><span class="nx">ShoppingList</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">item</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">({</span>
<span class="w">                </span><span class="nx">shoppingListId</span><span class="o">:</span><span class="w"> </span><span class="kt">item.shoppingListId.S</span><span class="o">!</span><span class="p">,</span>
<span class="w">                </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">item.name.S</span><span class="o">!</span><span class="p">,</span>
<span class="w">                </span><span class="nx">shoppingItems</span><span class="o">:</span><span class="w"> </span><span class="kt">JSON.parse</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">shoppingItems</span><span class="p">.</span><span class="nx">S</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">&#39;[]&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">})),</span>
<span class="w">        </span><span class="nx">nextToken</span><span class="o">:</span><span class="w"> </span><span class="kt">response.LastEvaluatedKey</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">toToken</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">LastEvaluatedKey</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kc">undefined</span><span class="p">,</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * Decode a stringified token</span>
<span class="cm"> * @param token a token passed to the paginated request</span>
<span class="cm"> */</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">fromToken</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">token?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">T</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">undefined</span><span class="w"> </span><span class="p">=&gt;</span>
<span class="w">    </span><span class="nx">token</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="p">(</span><span class="nb">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">Buffer</span><span class="p">.</span><span class="kr">from</span><span class="p">(</span><span class="nb">decodeURIComponent</span><span class="p">(</span><span class="nx">token</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;base64&#39;</span><span class="p">).</span><span class="nx">toString</span><span class="p">())</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">T</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kc">undefined</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Encode pagination details into an opaque stringified token</span>
<span class="cm"> * @param paginationToken pagination token details</span>
<span class="cm"> */</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">toToken</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">paginationToken?</span><span class="o">:</span><span class="w"> </span><span class="kt">T</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">undefined</span><span class="w"> </span><span class="p">=&gt;</span>
<span class="w">    </span><span class="nx">paginationToken</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">Buffer</span><span class="p">.</span><span class="kr">from</span><span class="p">(</span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">paginationToken</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">&#39;base64&#39;</span><span class="p">))</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kc">undefined</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Entry point for the AWS Lambda handler for the GetShoppingLists operation.</span>
<span class="cm"> * The getShoppingListsHandler method wraps the type-safe handler and manages marshalling inputs and outputs</span>
<span class="cm"> */</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">handler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getShoppingListsHandler</span><span class="p">(...</span><span class="nx">INTERCEPTORS</span><span class="p">,</span><span class="w"> </span><span class="nx">getShoppingLists</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<p>Fantastic! We now have all of our API business logic implemented. Let's move on to configuring the API infrastructure and deploying what we have so far.</p>
<h2 id="submodule-3-configure-and-deploy-your-api">Submodule 3: Configure and deploy your API</h2>
<h3 id="create-a-database-construct">Create a Database construct</h3>
<p>We need to create a DynamoDB table so that we can perform CRUD operations on our Shopping List(s). To do this, create a new file <code>packages/infra/src/constructs/database.ts</code> as follows:</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">AttributeType</span><span class="p">,</span><span class="w"> </span><span class="nx">Table</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;aws-cdk-lib/aws-dynamodb&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Construct</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;constructs&quot;</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Database construct to deploy a DynamoDB table.</span>
<span class="cm"> */</span>
<span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">DatabaseConstruct</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Construct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="k">readonly</span><span class="w"> </span><span class="nx">shoppingListTable</span><span class="o">:</span><span class="w"> </span><span class="kt">Table</span><span class="p">;</span>

<span class="w">  </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">scope</span><span class="o">:</span><span class="w"> </span><span class="kt">Construct</span><span class="p">,</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">(</span><span class="nx">scope</span><span class="p">,</span><span class="w"> </span><span class="nx">id</span><span class="p">);</span>

<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">shoppingListTable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Table</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ShoppingList&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">partitionKey</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;shoppingListId&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="nx">AttributeType</span><span class="p">.</span><span class="nx">STRING</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nx">tableName</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;shopping_list&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="modify-api-construct">Modify API construct</h3>
<p>We now need to wire up all of the handlers that we implemented into the existing <code>ApiConstruct</code>. We additionally need to configure each of our operations specific permissions onto the dynamoDB table that we just configured. Perform the following highlighted changes to your <code>packages/infra/src/constructs/api.ts</code> file:</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">UserIdentity</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@aws/pdk/identity&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Authorizers</span><span class="p">,</span><span class="w"> </span><span class="nx">Integrations</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@aws/pdk/type-safe-api&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Stack</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;aws-cdk-lib&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Cors</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;aws-cdk-lib/aws-apigateway&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">AccountPrincipal</span><span class="p">,</span>
<span class="w">  </span><span class="nx">AnyPrincipal</span><span class="p">,</span>
<span class="w">  </span><span class="nx">Effect</span><span class="p">,</span>
<span class="w">  </span><span class="nx">PolicyDocument</span><span class="p">,</span>
<span class="w">  </span><span class="nx">PolicyStatement</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;aws-cdk-lib/aws-iam&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Construct</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;constructs&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">Api</span><span class="p">,</span>
<span class="hll"><span class="w">  </span><span class="nx">DeleteShoppingListFunction</span><span class="p">,</span>
</span><span class="hll"><span class="w">  </span><span class="nx">GetShoppingListsFunction</span><span class="p">,</span>
</span><span class="hll"><span class="w">  </span><span class="nx">PutShoppingListFunction</span><span class="p">,</span>
</span><span class="hll"><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;myapi-typescript-infra&quot;</span><span class="p">;</span>
</span><span class="hll"><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">DatabaseConstruct</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;./database&quot;</span><span class="p">;</span>
</span>
<span class="cm">/**</span>
<span class="cm"> * Api construct props.</span>
<span class="cm"> */</span>
<span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">ApiConstructProps</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="cm">/**</span>
<span class="cm">   * Instance of the UserIdentity.</span>
<span class="cm">   */</span>
<span class="w">  </span><span class="k">readonly</span><span class="w"> </span><span class="nx">userIdentity</span><span class="o">:</span><span class="w"> </span><span class="kt">UserIdentity</span><span class="p">;</span>

<span class="hll"><span class="w">  </span><span class="cm">/**</span>
</span><span class="hll"><span class="cm">   * Instance of the DatabaseConstruct.</span>
</span><span class="hll"><span class="cm">   */</span>
</span><span class="hll"><span class="w">  </span><span class="k">readonly</span><span class="w"> </span><span class="nx">databaseConstruct</span><span class="o">:</span><span class="w"> </span><span class="kt">DatabaseConstruct</span><span class="p">;</span>
</span><span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * Infrastructure construct to deploy a Type Safe API.</span>
<span class="cm"> */</span>
<span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">ApiConstruct</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Construct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="cm">/**</span>
<span class="cm">   * API instance</span>
<span class="cm">   */</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="k">readonly</span><span class="w"> </span><span class="nx">api</span><span class="o">:</span><span class="w"> </span><span class="kt">Api</span><span class="p">;</span>

<span class="w">  </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">scope</span><span class="o">:</span><span class="w"> </span><span class="kt">Construct</span><span class="p">,</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">props?</span><span class="o">:</span><span class="w"> </span><span class="kt">ApiConstructProps</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">(</span><span class="nx">scope</span><span class="p">,</span><span class="w"> </span><span class="nx">id</span><span class="p">);</span>

<span class="hll"><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">putShoppingListFunction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">PutShoppingListFunction</span><span class="p">(</span>
</span><span class="hll"><span class="w">      </span><span class="k">this</span><span class="p">,</span>
</span><span class="hll"><span class="w">      </span><span class="s2">&quot;PutShoppingListFunction&quot;</span><span class="p">,</span>
</span><span class="hll"><span class="w">    </span><span class="p">);</span>
</span><span class="hll"><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">deleteShoppingListFunction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">DeleteShoppingListFunction</span><span class="p">(</span>
</span><span class="hll"><span class="w">      </span><span class="k">this</span><span class="p">,</span>
</span><span class="hll"><span class="w">      </span><span class="s2">&quot;DeleteShoppingListFunction&quot;</span><span class="p">,</span>
</span><span class="hll"><span class="w">    </span><span class="p">);</span>
</span><span class="hll"><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">getShoppingListsFunction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">GetShoppingListsFunction</span><span class="p">(</span>
</span><span class="hll"><span class="w">      </span><span class="k">this</span><span class="p">,</span>
</span><span class="hll"><span class="w">      </span><span class="s2">&quot;GetShoppingListsFunction&quot;</span><span class="p">,</span>
</span><span class="hll"><span class="w">    </span><span class="p">);</span>
</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">api</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Api</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="nx">id</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">defaultAuthorizer</span><span class="o">:</span><span class="w"> </span><span class="kt">Authorizers.iam</span><span class="p">(),</span>
<span class="w">      </span><span class="nx">corsOptions</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">allowOrigins</span><span class="o">:</span><span class="w"> </span><span class="kt">Cors.ALL_ORIGINS</span><span class="p">,</span>
<span class="w">        </span><span class="nx">allowMethods</span><span class="o">:</span><span class="w"> </span><span class="kt">Cors.ALL_METHODS</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="hll"><span class="w">      </span><span class="nx">integrations</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span class="hll"><span class="w">        </span><span class="nx">putShoppingList</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span class="hll"><span class="w">          </span><span class="nx">integration</span><span class="o">:</span><span class="w"> </span><span class="kt">Integrations.lambda</span><span class="p">(</span><span class="nx">putShoppingListFunction</span><span class="p">),</span>
</span><span class="hll"><span class="w">        </span><span class="p">},</span>
</span><span class="hll"><span class="w">        </span><span class="nx">deleteShoppingList</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span class="hll"><span class="w">          </span><span class="nx">integration</span><span class="o">:</span><span class="w"> </span><span class="kt">Integrations.lambda</span><span class="p">(</span><span class="nx">deleteShoppingListFunction</span><span class="p">),</span>
</span><span class="hll"><span class="w">        </span><span class="p">},</span>
</span><span class="hll"><span class="w">        </span><span class="nx">getShoppingLists</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span class="hll"><span class="w">          </span><span class="nx">integration</span><span class="o">:</span><span class="w"> </span><span class="kt">Integrations.lambda</span><span class="p">(</span><span class="nx">getShoppingListsFunction</span><span class="p">),</span>
</span><span class="hll"><span class="w">        </span><span class="p">},</span>
</span><span class="hll"><span class="w">      </span><span class="p">},</span>
</span><span class="w">      </span><span class="nx">policy</span><span class="o">:</span><span class="w"> </span><span class="kt">new</span><span class="w"> </span><span class="nx">PolicyDocument</span><span class="p">({</span>
<span class="w">        </span><span class="nx">statements</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="c1">// Here we grant any AWS credentials from the account that the prototype is deployed in to call the api.</span>
<span class="w">          </span><span class="c1">// Machine to machine fine-grained access can be defined here using more specific principals (eg roles or</span>
<span class="w">          </span><span class="c1">// users) and resources (ie which api paths may be invoked by which principal) if required.</span>
<span class="w">          </span><span class="c1">// If doing so, the cognito identity pool authenticated role must still be granted access for cognito users to</span>
<span class="w">          </span><span class="c1">// still be granted access to the API.</span>
<span class="w">          </span><span class="ow">new</span><span class="w"> </span><span class="nx">PolicyStatement</span><span class="p">({</span>
<span class="w">            </span><span class="nx">effect</span><span class="o">:</span><span class="w"> </span><span class="kt">Effect.ALLOW</span><span class="p">,</span>
<span class="w">            </span><span class="nx">principals</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="ow">new</span><span class="w"> </span><span class="nx">AccountPrincipal</span><span class="p">(</span><span class="nx">Stack</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">account</span><span class="p">)],</span>
<span class="w">            </span><span class="nx">actions</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;execute-api:Invoke&quot;</span><span class="p">],</span>
<span class="w">            </span><span class="nx">resources</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;execute-api:/*&quot;</span><span class="p">],</span>
<span class="w">          </span><span class="p">}),</span>
<span class="w">          </span><span class="c1">// Open up OPTIONS to allow browsers to make unauthenticated preflight requests</span>
<span class="w">          </span><span class="ow">new</span><span class="w"> </span><span class="nx">PolicyStatement</span><span class="p">({</span>
<span class="w">            </span><span class="nx">effect</span><span class="o">:</span><span class="w"> </span><span class="kt">Effect.ALLOW</span><span class="p">,</span>
<span class="w">            </span><span class="nx">principals</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="ow">new</span><span class="w"> </span><span class="nx">AnyPrincipal</span><span class="p">()],</span>
<span class="w">            </span><span class="nx">actions</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;execute-api:Invoke&quot;</span><span class="p">],</span>
<span class="w">            </span><span class="nx">resources</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;execute-api:/*/OPTIONS/*&quot;</span><span class="p">],</span>
<span class="w">          </span><span class="p">}),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">}),</span>
<span class="w">    </span><span class="p">});</span>

<span class="hll"><span class="w">    </span><span class="c1">// Grant our lambda functions scoped access to call Dynamo</span>
</span><span class="hll"><span class="w">    </span><span class="nx">props</span><span class="o">?</span><span class="p">.</span><span class="nx">databaseConstruct</span><span class="p">.</span><span class="nx">shoppingListTable</span><span class="p">.</span><span class="nx">grantReadData</span><span class="p">(</span>
</span><span class="hll"><span class="w">      </span><span class="nx">getShoppingListsFunction</span><span class="p">,</span>
</span><span class="hll"><span class="w">    </span><span class="p">);</span>
</span><span class="hll"><span class="w">    </span><span class="p">[</span><span class="nx">putShoppingListFunction</span><span class="p">,</span><span class="w"> </span><span class="nx">deleteShoppingListFunction</span><span class="p">].</span><span class="nx">forEach</span><span class="p">(</span>
</span><span class="hll"><span class="w">      </span><span class="p">(</span><span class="nx">f</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">props</span><span class="o">?</span><span class="p">.</span><span class="nx">databaseConstruct</span><span class="p">.</span><span class="nx">shoppingListTable</span><span class="p">.</span><span class="nx">grantWriteData</span><span class="p">(</span><span class="nx">f</span><span class="p">),</span>
</span><span class="hll"><span class="w">    </span><span class="p">);</span>
</span>
<span class="w">    </span><span class="c1">// Grant authenticated users access to invoke the api</span>
<span class="w">    </span><span class="nx">props</span><span class="o">?</span><span class="p">.</span><span class="nx">userIdentity</span><span class="p">.</span><span class="nx">identityPool</span><span class="p">.</span><span class="nx">authenticatedRole</span><span class="p">.</span><span class="nx">addToPrincipalPolicy</span><span class="p">(</span>
<span class="w">      </span><span class="ow">new</span><span class="w"> </span><span class="nx">PolicyStatement</span><span class="p">({</span>
<span class="w">        </span><span class="nx">effect</span><span class="o">:</span><span class="w"> </span><span class="kt">Effect.ALLOW</span><span class="p">,</span>
<span class="w">        </span><span class="nx">actions</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;execute-api:Invoke&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="nx">resources</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">arnForExecuteApi</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;/*&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;*&quot;</span><span class="p">)],</span>
<span class="w">      </span><span class="p">}),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>You will notice that we are importing <code>DeleteShoppingListFunction, GetShoppingListsFunction &amp; PutShoppingListFunction</code> from the <code>myapi-typescript-infra</code> package. These are extensions to <a href="https://docs.aws.amazon.com/cdk/api/v2/docs/aws-cdk-lib.aws_lambda.Function.html"><code>Function</code></a> which come pre-configured with runtime, index handler and asset location. The function accepts an optional third parameter which allows you to adjust any settings you would find within the <code>Function</code> interface i.e: vpc, subnets, etc.</p>
<h3 id="wire-in-the-databaseconstruct">Wire in the DatabaseConstruct</h3>
<p>The final change we need to make is that we need to instantiate the <code>DatabaseConstruct</code> and pass the instance to the <code>ApiConstruct</code>. To do this, perform the following highlighted changes to <code>packages/infra/src/stacks/application-stack.ts</code>:</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">UserIdentity</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@aws/pdk/identity&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Stack</span><span class="p">,</span><span class="w"> </span><span class="nx">StackProps</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;aws-cdk-lib&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Construct</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;constructs&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ApiConstruct</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;../constructs/api&quot;</span><span class="p">;</span>
<span class="hll"><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">DatabaseConstruct</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;../constructs/database&quot;</span><span class="p">;</span>
</span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">WebsiteConstruct</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;../constructs/website&quot;</span><span class="p">;</span>

<span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">ApplicationStack</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Stack</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">scope</span><span class="o">:</span><span class="w"> </span><span class="kt">Construct</span><span class="p">,</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">props?</span><span class="o">:</span><span class="w"> </span><span class="kt">StackProps</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">(</span><span class="nx">scope</span><span class="p">,</span><span class="w"> </span><span class="nx">id</span><span class="p">,</span><span class="w"> </span><span class="nx">props</span><span class="p">);</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">userIdentity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">UserIdentity</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="nx">id</span><span class="si">}</span><span class="sb">UserIdentity`</span><span class="p">);</span>
<span class="hll"><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">databaseConstruct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">DatabaseConstruct</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Database&quot;</span><span class="p">);</span>
</span><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">apiConstruct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">ApiConstruct</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Api&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="hll"><span class="w">      </span><span class="nx">databaseConstruct</span><span class="p">,</span>
</span><span class="w">      </span><span class="nx">userIdentity</span><span class="p">,</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">    </span><span class="ow">new</span><span class="w"> </span><span class="nx">WebsiteConstruct</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Website&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">userIdentity</span><span class="p">,</span><span class="w"> </span><span class="nx">apiConstruct</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="deploy-our-updated-api">Deploy our updated API</h3>
<p>We are now ready to deploy our API. To do so, run the following steps:</p>
<div class="highlight"><pre><span></span><code>pdk<span class="w"> </span>build
<span class="nb">cd</span><span class="w"> </span>packages/infra
pdk<span class="w"> </span>deploy:dev
</code></pre></div>
<p>Once the deployment completes, we can test our API by navigating the the website (either via Cloudfront or locally) and trying out the API Explorer.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Ensure you have <a href="your_first_aws_pdk_project.html#configuring-your-local-website-to-communicate-with-backend-services">configured you local website to communicate with backend services</a>, otherwise your website will not function correctly.</p>
</div>
<h2 id="submodule-4-build-a-shopping-list-ui">Submodule 4: Build a Shopping List UI</h2>
<p>Now that we have tested our API and shown that it works, we can now start building out a UI to improve the user experience.</p>
<p>Since we will no longer be using the <code>Home</code> page, we can simplify delete it from <code>pages/Home/index.tsx</code> along with it's <code>pages/Home</code> folder.</p>
<h3 id="create-new-pages-components">Create new pages &amp; components</h3>
<p>Within the <code>packages/website/src</code> directory, create the following three files with content as follows:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:3"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><input id="__tabbed_6_3" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">pages/ShoppingLists/index.tsx</label><label for="__tabbed_6_2">pages/ShoppingList/index.tsx</label><label for="__tabbed_6_3">components/CreateItem/index.tsx</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>This creates the UI do managing our shoppings lists.</p>
<div class="highlight"><pre><span></span><code><span class="cm">/* eslint-disable @typescript-eslint/no-floating-promises */</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">Button</span><span class="p">,</span>
<span class="w">  </span><span class="nx">Header</span><span class="p">,</span>
<span class="w">  </span><span class="nx">Link</span><span class="p">,</span>
<span class="w">  </span><span class="nx">SpaceBetween</span><span class="p">,</span>
<span class="w">  </span><span class="nx">TableProps</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@cloudscape-design/components&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">ShoppingList</span><span class="p">,</span>
<span class="w">  </span><span class="nx">usePutShoppingList</span><span class="p">,</span>
<span class="w">  </span><span class="nx">useDeleteShoppingList</span><span class="p">,</span>
<span class="w">  </span><span class="nx">useGetShoppingLists</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;myapi-typescript-react-query-hooks&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">InfiniteQueryTable</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@aws-northstar/ui/components&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useContext</span><span class="p">,</span><span class="w"> </span><span class="nx">useEffect</span><span class="p">,</span><span class="w"> </span><span class="nx">useMemo</span><span class="p">,</span><span class="w"> </span><span class="nx">useState</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;react&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useNavigate</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;react-router-dom&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">CreateItem</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;../../components/CreateItem&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">AppLayoutContext</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;../../layouts/App&quot;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">PAGE_SIZE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">50</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Component to render the ShoppingLists &quot;/&quot; route.</span>
<span class="cm"> */</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">ShoppingLists</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">visibleModal</span><span class="p">,</span><span class="w"> </span><span class="nx">setVisibleModal</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">selectedShoppingList</span><span class="p">,</span><span class="w"> </span><span class="nx">setSelectedShoppingList</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="o">&lt;</span>
<span class="w">    </span><span class="nx">ShoppingList</span><span class="p">[]</span>
<span class="w">  </span><span class="o">&gt;</span><span class="p">([]);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">getShoppingLists</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useGetShoppingLists</span><span class="p">({</span><span class="w"> </span><span class="nx">pageSize</span><span class="o">:</span><span class="w"> </span><span class="kt">PAGE_SIZE</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">putShoppingList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">usePutShoppingList</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">deleteShoppingList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useDeleteShoppingList</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">navigate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useNavigate</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">setAppLayoutProps</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useContext</span><span class="p">(</span><span class="nx">AppLayoutContext</span><span class="p">);</span>

<span class="w">  </span><span class="nx">useEffect</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setAppLayoutProps</span><span class="p">({</span>
<span class="w">      </span><span class="nx">contentType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;table&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="p">[</span><span class="nx">setAppLayoutProps</span><span class="p">]);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">columnDefinitions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useMemo</span><span class="o">&lt;</span>
<span class="w">    </span><span class="nx">TableProps</span><span class="p">.</span><span class="nx">ColumnDefinition</span><span class="o">&lt;</span><span class="nx">ShoppingList</span><span class="o">&gt;</span><span class="p">[]</span>
<span class="w">  </span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;shoppingListId&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">isRowHeader</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
<span class="w">        </span><span class="nx">header</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Shopping List Id&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">cell</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">cell</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">Link</span>
<span class="w">            </span><span class="nx">href</span><span class="o">=</span><span class="p">{</span><span class="sb">`/</span><span class="si">${</span><span class="nx">cell</span><span class="p">.</span><span class="nx">shoppingListId</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span>
<span class="w">            </span><span class="nx">onFollow</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
<span class="w">              </span><span class="nx">navigate</span><span class="p">(</span><span class="sb">`/</span><span class="si">${</span><span class="nx">cell</span><span class="p">.</span><span class="nx">shoppingListId</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">            </span><span class="p">}}</span>
<span class="w">          </span><span class="o">&gt;</span>
<span class="w">            </span><span class="p">{</span><span class="nx">cell</span><span class="p">.</span><span class="nx">shoppingListId</span><span class="p">}</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/Link&gt;</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">header</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Name&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">cell</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">cell</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">cell</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;shoppingItems&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">header</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Shopping Items&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">cell</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">cell</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="nx">cell</span><span class="p">.</span><span class="nx">shoppingItems</span><span class="o">?</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mf">0</span><span class="si">}</span><span class="sb"> Items.`</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="nx">navigate</span><span class="p">],</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">CreateItem</span>
<span class="w">        </span><span class="nx">title</span><span class="o">=</span><span class="s2">&quot;Create Shopping List&quot;</span>
<span class="w">        </span><span class="nx">callback</span><span class="o">=</span><span class="p">{</span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">item</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">await</span><span class="w"> </span><span class="nx">putShoppingList</span><span class="p">.</span><span class="nx">mutateAsync</span><span class="p">({</span>
<span class="w">            </span><span class="nx">putShoppingListRequestContent</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">item</span><span class="p">,</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">          </span><span class="p">});</span>
<span class="w">          </span><span class="nx">getShoppingLists</span><span class="p">.</span><span class="nx">refetch</span><span class="p">();</span>
<span class="w">        </span><span class="p">}}</span>
<span class="w">        </span><span class="nx">isLoading</span><span class="o">=</span><span class="p">{</span><span class="nx">putShoppingList</span><span class="p">.</span><span class="nx">isLoading</span><span class="p">}</span>
<span class="w">        </span><span class="nx">visibleModal</span><span class="o">=</span><span class="p">{</span><span class="nx">visibleModal</span><span class="p">}</span>
<span class="w">        </span><span class="nx">setVisibleModal</span><span class="o">=</span><span class="p">{</span><span class="nx">setVisibleModal</span><span class="p">}</span>
<span class="w">      </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">InfiniteQueryTable</span>
<span class="w">        </span><span class="nx">query</span><span class="o">=</span><span class="p">{</span><span class="nx">getShoppingLists</span><span class="p">}</span>
<span class="w">        </span><span class="nx">itemsKey</span><span class="o">=</span><span class="s2">&quot;shoppingLists&quot;</span>
<span class="w">        </span><span class="nx">pageSize</span><span class="o">=</span><span class="p">{</span><span class="nx">PAGE_SIZE</span><span class="p">}</span>
<span class="w">        </span><span class="nx">selectionType</span><span class="o">=</span><span class="s2">&quot;single&quot;</span>
<span class="w">        </span><span class="nx">stickyHeader</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span>
<span class="w">        </span><span class="nx">selectedItems</span><span class="o">=</span><span class="p">{</span><span class="nx">selectedShoppingList</span><span class="p">}</span>
<span class="w">        </span><span class="nx">onSelectionChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span>
<span class="w">          </span><span class="nx">setSelectedShoppingList</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">selectedItems</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="nx">header</span><span class="o">=</span><span class="p">{</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">Header</span>
<span class="w">            </span><span class="nx">variant</span><span class="o">=</span><span class="s2">&quot;awsui-h1-sticky&quot;</span>
<span class="w">            </span><span class="nx">actions</span><span class="o">=</span><span class="p">{</span>
<span class="w">              </span><span class="o">&lt;</span><span class="nx">SpaceBetween</span><span class="w"> </span><span class="nx">size</span><span class="o">=</span><span class="s2">&quot;xs&quot;</span><span class="w"> </span><span class="nx">direction</span><span class="o">=</span><span class="s2">&quot;horizontal&quot;</span><span class="o">&gt;</span>
<span class="w">                </span><span class="o">&lt;</span><span class="nx">Button</span>
<span class="w">                  </span><span class="nx">loading</span><span class="o">=</span><span class="p">{</span><span class="nx">deleteShoppingList</span><span class="p">.</span><span class="nx">isLoading</span><span class="p">}</span>
<span class="w">                  </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;header-btn-delete&quot;</span>
<span class="w">                  </span><span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">selectedShoppingList</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">}</span>
<span class="w">                  </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="k">await</span><span class="w"> </span><span class="nx">deleteShoppingList</span><span class="p">.</span><span class="nx">mutateAsync</span><span class="p">({</span>
<span class="w">                      </span><span class="nx">shoppingListId</span><span class="o">:</span><span class="w"> </span><span class="kt">selectedShoppingList</span><span class="o">!</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">shoppingListId</span><span class="p">,</span>
<span class="w">                    </span><span class="p">});</span>
<span class="w">                    </span><span class="nx">setSelectedShoppingList</span><span class="p">([]);</span>
<span class="w">                    </span><span class="nx">getShoppingLists</span><span class="p">.</span><span class="nx">refetch</span><span class="p">();</span>
<span class="w">                  </span><span class="p">}}</span>
<span class="w">                </span><span class="o">&gt;</span>
<span class="w">                  </span><span class="nx">Delete</span>
<span class="w">                </span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
<span class="w">                </span><span class="o">&lt;</span><span class="nx">Button</span>
<span class="w">                  </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;header-btn-create&quot;</span>
<span class="w">                  </span><span class="nx">variant</span><span class="o">=</span><span class="s2">&quot;primary&quot;</span>
<span class="w">                  </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setVisibleModal</span><span class="p">(</span><span class="kc">true</span><span class="p">)}</span>
<span class="w">                </span><span class="o">&gt;</span>
<span class="w">                  </span><span class="nx">Create</span><span class="w"> </span><span class="nx">Shopping</span><span class="w"> </span><span class="nx">List</span>
<span class="w">                </span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
<span class="w">              </span><span class="o">&lt;</span><span class="err">/SpaceBetween&gt;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">          </span><span class="o">&gt;</span>
<span class="w">            </span><span class="nx">Shopping</span><span class="w"> </span><span class="nx">Lists</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/Header&gt;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="nx">variant</span><span class="o">=</span><span class="s2">&quot;full-page&quot;</span>
<span class="w">        </span><span class="nx">columnDefinitions</span><span class="o">=</span><span class="p">{</span><span class="nx">columnDefinitions</span><span class="p">}</span>
<span class="w">      </span><span class="o">/&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">ShoppingLists</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>This creates the UI for managing a shopping list's items, re-arranging them, etc.</p>
<div class="highlight"><pre><span></span><code><span class="cm">/* eslint-disable @typescript-eslint/no-floating-promises */</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">Board</span><span class="p">,</span>
<span class="w">  </span><span class="nx">BoardItem</span><span class="p">,</span>
<span class="w">  </span><span class="nx">BoardProps</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@cloudscape-design/board-components&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">Button</span><span class="p">,</span>
<span class="w">  </span><span class="nx">Container</span><span class="p">,</span>
<span class="w">  </span><span class="nx">ContentLayout</span><span class="p">,</span>
<span class="w">  </span><span class="nx">Header</span><span class="p">,</span>
<span class="w">  </span><span class="nx">SpaceBetween</span><span class="p">,</span>
<span class="w">  </span><span class="nx">Spinner</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@cloudscape-design/components&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">ShoppingList</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">_ShoppingList</span><span class="p">,</span>
<span class="w">  </span><span class="nx">usePutShoppingList</span><span class="p">,</span>
<span class="w">  </span><span class="nx">useGetShoppingLists</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;myapi-typescript-react-query-hooks&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useEffect</span><span class="p">,</span><span class="w"> </span><span class="nx">useState</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;react&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useParams</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;react-router-dom&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">CreateItem</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;../../components/CreateItem&quot;</span><span class="p">;</span>

<span class="kr">type</span><span class="w"> </span><span class="nx">ListItem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * Component to render a singular Shopping List &quot;/:shoppingListId&quot; route.</span>
<span class="cm"> */</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">ShoppingList</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">shoppingListId</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useParams</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">visibleModal</span><span class="p">,</span><span class="w"> </span><span class="nx">setVisibleModal</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">getShoppingLists</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useGetShoppingLists</span><span class="p">({</span><span class="w"> </span><span class="nx">shoppingListId</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">putShoppingList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">usePutShoppingList</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">shoppingList</span><span class="o">:</span><span class="w"> </span><span class="kt">_ShoppingList</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">undefined</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="nx">getShoppingLists</span><span class="p">.</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">pages</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">shoppingLists</span><span class="p">[</span><span class="mf">0</span><span class="p">]</span><span class="o">!</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">shoppingItems</span><span class="p">,</span><span class="w"> </span><span class="nx">setShoppingItems</span><span class="p">]</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="nx">useState</span><span class="o">&lt;</span><span class="nx">BoardProps</span><span class="p">.</span><span class="nx">Item</span><span class="o">&lt;</span><span class="nx">ListItem</span><span class="o">&gt;</span><span class="p">[]</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">  </span><span class="nx">useEffect</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setShoppingItems</span><span class="p">(</span>
<span class="w">      </span><span class="nx">shoppingList</span><span class="o">?</span><span class="p">.</span><span class="nx">shoppingItems</span><span class="o">?</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">i</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">({</span>
<span class="w">        </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">i</span><span class="p">,</span>
<span class="w">        </span><span class="nx">definition</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">minColumnSpan</span><span class="o">:</span><span class="w"> </span><span class="kt">4</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">i</span><span class="w"> </span><span class="p">},</span>
<span class="w">      </span><span class="p">})),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="p">[</span><span class="nx">shoppingList</span><span class="o">?</span><span class="p">.</span><span class="nx">shoppingItems</span><span class="p">]);</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">ContentLayout</span>
<span class="w">      </span><span class="nx">header</span><span class="o">=</span><span class="p">{</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Header</span>
<span class="w">          </span><span class="nx">variant</span><span class="o">=</span><span class="s2">&quot;awsui-h1-sticky&quot;</span>
<span class="w">          </span><span class="nx">actions</span><span class="o">=</span><span class="p">{</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">SpaceBetween</span><span class="w"> </span><span class="nx">size</span><span class="o">=</span><span class="s2">&quot;xs&quot;</span><span class="w"> </span><span class="nx">direction</span><span class="o">=</span><span class="s2">&quot;horizontal&quot;</span><span class="o">&gt;</span>
<span class="w">              </span><span class="o">&lt;</span><span class="nx">Button</span>
<span class="w">                </span><span class="nx">data</span><span class="o">-</span><span class="nx">testid</span><span class="o">=</span><span class="s2">&quot;header-btn-create&quot;</span>
<span class="w">                </span><span class="nx">variant</span><span class="o">=</span><span class="s2">&quot;primary&quot;</span>
<span class="w">                </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setVisibleModal</span><span class="p">(</span><span class="kc">true</span><span class="p">)}</span>
<span class="w">              </span><span class="o">&gt;</span>
<span class="w">                </span><span class="nx">Add</span><span class="w"> </span><span class="nx">Item</span>
<span class="w">              </span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="err">/SpaceBetween&gt;</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="o">&gt;</span>
<span class="w">          </span><span class="nx">Shopping</span><span class="w"> </span><span class="nx">list</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">shoppingList</span><span class="o">?</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/Header&gt;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">CreateItem</span>
<span class="w">        </span><span class="nx">isLoading</span><span class="o">=</span><span class="p">{</span><span class="kc">false</span><span class="p">}</span>
<span class="w">        </span><span class="nx">title</span><span class="o">=</span><span class="s2">&quot;Add Item&quot;</span>
<span class="w">        </span><span class="nx">callback</span><span class="o">=</span><span class="p">{</span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">item</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="kd">const</span><span class="w"> </span><span class="nx">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">...(</span><span class="nx">shoppingItems</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">[]),</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">              </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">item</span><span class="p">,</span>
<span class="w">              </span><span class="nx">definition</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">minColumnSpan</span><span class="o">:</span><span class="w"> </span><span class="kt">4</span><span class="w"> </span><span class="p">},</span>
<span class="w">              </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">item</span><span class="w"> </span><span class="p">},</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">          </span><span class="p">];</span>
<span class="w">          </span><span class="nx">setShoppingItems</span><span class="p">(</span><span class="nx">items</span><span class="p">);</span>
<span class="w">          </span><span class="nx">putShoppingList</span><span class="p">.</span><span class="nx">mutate</span><span class="p">({</span>
<span class="w">            </span><span class="nx">putShoppingListRequestContent</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">shoppingList.name</span><span class="p">,</span>
<span class="w">              </span><span class="nx">shoppingListId</span><span class="o">:</span><span class="w"> </span><span class="kt">shoppingList.shoppingListId</span><span class="p">,</span>
<span class="w">              </span><span class="nx">shoppingItems</span><span class="o">:</span><span class="w"> </span><span class="kt">items.map</span><span class="p">((</span><span class="nx">i</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">i</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">name</span><span class="p">),</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">          </span><span class="p">});</span>
<span class="w">        </span><span class="p">}}</span>
<span class="w">        </span><span class="nx">visibleModal</span><span class="o">=</span><span class="p">{</span><span class="nx">visibleModal</span><span class="p">}</span>
<span class="w">        </span><span class="nx">setVisibleModal</span><span class="o">=</span><span class="p">{</span><span class="nx">setVisibleModal</span><span class="p">}</span>
<span class="w">      </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Container</span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="o">!</span><span class="nx">shoppingList</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">Spinner</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">Board</span><span class="o">&lt;</span><span class="nx">ListItem</span><span class="o">&gt;</span>
<span class="w">            </span><span class="nx">onItemsChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="kd">const</span><span class="w"> </span><span class="nx">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">event</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">items</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">BoardProps</span><span class="p">.</span><span class="nx">Item</span><span class="o">&lt;</span><span class="nx">ListItem</span><span class="o">&gt;</span><span class="p">[];</span>
<span class="w">              </span><span class="nx">setShoppingItems</span><span class="p">(</span><span class="nx">items</span><span class="p">);</span>
<span class="w">              </span><span class="nx">putShoppingList</span><span class="p">.</span><span class="nx">mutate</span><span class="p">({</span>
<span class="w">                </span><span class="nx">putShoppingListRequestContent</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">shoppingList.name</span><span class="p">,</span>
<span class="w">                  </span><span class="nx">shoppingListId</span><span class="o">:</span><span class="w"> </span><span class="kt">shoppingList.shoppingListId</span><span class="p">,</span>
<span class="w">                  </span><span class="nx">shoppingItems</span><span class="o">:</span><span class="w"> </span><span class="kt">items.map</span><span class="p">((</span><span class="nx">i</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">i</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">name</span><span class="p">),</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">              </span><span class="p">});</span>
<span class="w">            </span><span class="p">}}</span>
<span class="w">            </span><span class="nx">items</span><span class="o">=</span><span class="p">{</span><span class="nx">shoppingItems</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">[]}</span>
<span class="w">            </span><span class="nx">renderItem</span><span class="o">=</span><span class="p">{(</span><span class="nx">item</span><span class="p">,</span><span class="w"> </span><span class="nx">actions</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">              </span><span class="o">&lt;</span><span class="nx">BoardItem</span>
<span class="w">                </span><span class="nx">header</span><span class="o">=</span><span class="p">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span>
<span class="w">                </span><span class="nx">settings</span><span class="o">=</span><span class="p">{</span>
<span class="w">                  </span><span class="o">&lt;</span><span class="nx">Button</span>
<span class="w">                    </span><span class="nx">iconName</span><span class="o">=</span><span class="s2">&quot;close&quot;</span>
<span class="w">                    </span><span class="nx">variant</span><span class="o">=</span><span class="s2">&quot;icon&quot;</span>
<span class="w">                    </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">actions</span><span class="p">.</span><span class="nx">removeItem</span><span class="p">}</span>
<span class="w">                  </span><span class="o">/&gt;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">                </span><span class="nx">i18nStrings</span><span class="o">=</span><span class="p">{{</span>
<span class="w">                  </span><span class="nx">dragHandleAriaLabel</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Drag handle&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nx">dragHandleAriaDescription</span><span class="o">:</span>
<span class="w">                    </span><span class="s2">&quot;Use Space or Enter to activate drag, arrow keys to move, Space or Enter to submit, or Escape to discard.&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nx">resizeHandleAriaLabel</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Resize handle&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nx">resizeHandleAriaDescription</span><span class="o">:</span>
<span class="w">                    </span><span class="s2">&quot;Use Space or Enter to activate resize, arrow keys to move, Space or Enter to submit, or Escape to discard.&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="p">}}</span>
<span class="w">              </span><span class="o">/&gt;</span>
<span class="w">            </span><span class="p">)}</span>
<span class="w">            </span><span class="nx">i18nStrings</span><span class="o">=</span><span class="p">{{</span>
<span class="w">              </span><span class="nx">liveAnnouncementDndCommitted</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nx">liveAnnouncementDndDiscarded</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nx">liveAnnouncementDndItemInserted</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nx">liveAnnouncementDndItemReordered</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nx">liveAnnouncementDndItemResized</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nx">liveAnnouncementDndStarted</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nx">liveAnnouncementItemRemoved</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nx">navigationAriaLabel</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nx">navigationItemAriaLabel</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="p">}}</span>
<span class="w">            </span><span class="nx">empty</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;&gt;&lt;</span><span class="err">/&gt;}</span>
<span class="w">          </span><span class="err">/&gt;</span>
<span class="w">        </span><span class="p">)}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Container&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/ContentLayout&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">ShoppingList</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>Abstract widget to 'add an item'.</p>
<div class="highlight"><pre><span></span><code><span class="cm">/* eslint-disable @typescript-eslint/no-floating-promises */</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">Box</span><span class="p">,</span>
<span class="w">  </span><span class="nx">Button</span><span class="p">,</span>
<span class="w">  </span><span class="nx">FormField</span><span class="p">,</span>
<span class="w">  </span><span class="nx">Input</span><span class="p">,</span>
<span class="w">  </span><span class="nx">Modal</span><span class="p">,</span>
<span class="w">  </span><span class="nx">SpaceBetween</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@cloudscape-design/components&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useState</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;react&quot;</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Component to render a widget to add an item.</span>
<span class="cm"> */</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">CreateItem</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FC</span><span class="o">&lt;</span><span class="p">{</span>
<span class="w">  </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">visibleModal</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="w">  </span><span class="nx">isLoading</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="w">  </span><span class="nx">setVisibleModal</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">visible</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
<span class="w">  </span><span class="nx">callback</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">itemName</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="ow">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">title</span><span class="p">,</span><span class="w"> </span><span class="nx">visibleModal</span><span class="p">,</span><span class="w"> </span><span class="nx">setVisibleModal</span><span class="p">,</span><span class="w"> </span><span class="nx">callback</span><span class="p">,</span><span class="w"> </span><span class="nx">isLoading</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">showValidation</span><span class="p">,</span><span class="w"> </span><span class="nx">setShowValidation</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">itemToCreate</span><span class="p">,</span><span class="w"> </span><span class="nx">setItemToCreate</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="o">&lt;</span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">undefined</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Modal</span>
<span class="w">      </span><span class="nx">onDismiss</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setVisibleModal</span><span class="p">(</span><span class="kc">false</span><span class="p">)}</span>
<span class="w">      </span><span class="nx">visible</span><span class="o">=</span><span class="p">{</span><span class="nx">visibleModal</span><span class="p">}</span>
<span class="w">      </span><span class="nx">footer</span><span class="o">=</span><span class="p">{</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Box</span><span class="w"> </span><span class="kr">float</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">SpaceBetween</span><span class="w"> </span><span class="nx">direction</span><span class="o">=</span><span class="s2">&quot;horizontal&quot;</span><span class="w"> </span><span class="nx">size</span><span class="o">=</span><span class="s2">&quot;xs&quot;</span><span class="o">&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">Button</span>
<span class="w">              </span><span class="nx">variant</span><span class="o">=</span><span class="s2">&quot;link&quot;</span>
<span class="w">              </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nx">setVisibleModal</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">                </span><span class="nx">setItemToCreate</span><span class="p">(</span><span class="kc">undefined</span><span class="p">);</span>
<span class="w">                </span><span class="nx">setShowValidation</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">              </span><span class="p">}}</span>
<span class="w">            </span><span class="o">&gt;</span>
<span class="w">              </span><span class="nx">Cancel</span>
<span class="w">            </span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">Button</span>
<span class="w">              </span><span class="nx">variant</span><span class="o">=</span><span class="s2">&quot;primary&quot;</span>
<span class="w">              </span><span class="nx">loading</span><span class="o">=</span><span class="p">{</span><span class="nx">isLoading</span><span class="p">}</span>
<span class="w">              </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nx">setShowValidation</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">itemToCreate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="k">return</span><span class="p">;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">                </span><span class="k">await</span><span class="w"> </span><span class="nx">callback</span><span class="p">(</span><span class="nx">itemToCreate</span><span class="p">);</span>
<span class="w">                </span><span class="nx">setVisibleModal</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">                </span><span class="nx">setItemToCreate</span><span class="p">(</span><span class="kc">undefined</span><span class="p">);</span>
<span class="w">                </span><span class="nx">setShowValidation</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">              </span><span class="p">}}</span>
<span class="w">            </span><span class="o">&gt;</span>
<span class="w">              </span><span class="nx">Create</span>
<span class="w">            </span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/SpaceBetween&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/Box&gt;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="nx">header</span><span class="o">=</span><span class="p">{</span><span class="nx">title</span><span class="p">}</span>
<span class="w">    </span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">FormField</span>
<span class="w">        </span><span class="nx">label</span><span class="o">=</span><span class="s2">&quot;Name&quot;</span>
<span class="w">        </span><span class="nx">errorText</span><span class="o">=</span><span class="p">{</span>
<span class="w">          </span><span class="nx">showValidation</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="nx">itemToCreate</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="sb">`Name must be provided`</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kc">undefined</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Input</span>
<span class="w">          </span><span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">itemToCreate</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">}</span>
<span class="w">          </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{({</span><span class="w"> </span><span class="nx">detail</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setItemToCreate</span><span class="p">(</span><span class="nx">detail</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
<span class="w">        </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/FormField&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Modal&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">CreateItem</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="wire-in-the-new-pages">Wire in the new pages</h3>
<p>Next we need to modify the following two files in order to instrument the new pages correctly:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">layouts/App/navitems.ts</label><label for="__tabbed_7_2">layouts/Routes/index.tsx</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Render the new pages as "Shopping Lists" in the nav bar.</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">SideNavigationProps</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@cloudscape-design/components&quot;</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Define your Navigation Items here</span>
<span class="cm"> */</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">NavItems</span><span class="o">:</span><span class="w"> </span><span class="kt">SideNavigationProps.Item</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="hll"><span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Shopping Lists&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;link&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">href</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;/&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;divider&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Developer Tools&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;expandable-link-group&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">href</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;#&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">defaultExpanded</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span><span class="p">,</span>
<span class="w">        </span><span class="nx">items</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;API Explorer&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;link&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">href</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;/apiExplorer&quot;</span><span class="w"> </span><span class="p">}],</span>
<span class="w">    </span><span class="p">},</span>
<span class="p">];</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>Set up new routes (and remove old ones).</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;react&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Route</span><span class="p">,</span><span class="w"> </span><span class="nx">Routes</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">ReactRoutes</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;react-router-dom&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">ApiExplorer</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;../../pages/ApiExplorer&quot;</span><span class="p">;</span>
<span class="hll"><span class="k">import</span><span class="w"> </span><span class="nx">ShoppingList</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;../../pages/ShoppingList&quot;</span><span class="p">;</span>
</span><span class="hll"><span class="k">import</span><span class="w"> </span><span class="nx">ShoppingLists</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;../../pages/ShoppingLists&quot;</span><span class="p">;</span>
</span>
<span class="cm">/**</span>
<span class="cm"> * Defines the Routes.</span>
<span class="cm"> */</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">Routes</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">ReactRoutes</span><span class="o">&gt;</span>
<span class="hll"><span class="w">        </span><span class="o">&lt;</span><span class="nx">Route</span><span class="w"> </span><span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="mf">0</span><span class="p">}</span><span class="w"> </span><span class="nx">path</span><span class="o">=</span><span class="s2">&quot;/&quot;</span><span class="w"> </span><span class="nx">element</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="nx">ShoppingLists</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
</span><span class="hll"><span class="w">        </span><span class="o">&lt;</span><span class="nx">Route</span><span class="w"> </span><span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="mf">1</span><span class="p">}</span><span class="w"> </span><span class="nx">path</span><span class="o">=</span><span class="s2">&quot;/:shoppingListId&quot;</span><span class="w"> </span><span class="nx">element</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="nx">ShoppingList</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
</span><span class="w">        </span><span class="o">&lt;</span><span class="nx">Route</span><span class="w"> </span><span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="mf">2</span><span class="p">}</span><span class="w"> </span><span class="nx">path</span><span class="o">=</span><span class="s2">&quot;/apiExplorer&quot;</span><span class="w"> </span><span class="nx">element</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="nx">ApiExplorer</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/ReactRoutes&gt;</span>
<span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Routes</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="testing-out-our-new-ui">Testing out our new UI</h3>
<p>We can now test our UI locally by running the following command:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>packages/website
pdk<span class="w"> </span>dev
</code></pre></div>
<p>This will load a local server and open a browser showing your new application.</p>
<p><img src="../assets/images/shopping_list_complete.png" width="800" /></p>
<p>Have a play around with your website to ensure it is working as expected.</p>
<h3 id="deploying-our-website-to-cloudfront">Deploying our website to Cloudfront</h3>
<p>If you are happy with your website locally, you can go ahead and deploy it to AWS Cloudfront by performing the following steps from the root directory:</p>
<div class="highlight"><pre><span></span><code>pdk<span class="w"> </span>build
<span class="nb">cd</span><span class="w"> </span>packages/infra
pdk<span class="w"> </span>deploy:dev
</code></pre></div>
<p>Once the deployment completes, navigate to your cloudfront URL to play around with your deployed website.</p>
<h2 id="next-steps">Next Steps</h2>
<p>Congratulations, you have now familiarized yourself with the PDK using a real-world example! Where do you go from here?</p>
<ul>
<li>See the <a href="../developer_guides/index.html">Developer Guide</a> to begin exploring the provided constructs available in the PDK.</li>
<li>See the <a href="../api/index.html">API reference</a> to view [Js/Java/Py]Docs for each provided PDK construct.</li>
<li>The AWS PDK is an <a href="https://github.com/aws/aws-pdk">open-source project</a>. Want to <a href="../contributing/index.html">contribute</a>?</li>
</ul>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      2024-02-09
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 Amazon Web Services, Inc.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://aws.amazon.com" target="_blank" rel="noopener" title="Amazon Web Services, Inc." class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M180.41 203.01c-.72 22.65 10.6 32.68 10.88 39.05a8.164 8.164 0 0 1-4.1 6.27l-12.8 8.96a10.66 10.66 0 0 1-5.63 1.92c-.43-.02-8.19 1.83-20.48-25.61a78.608 78.608 0 0 1-62.61 29.45c-16.28.89-60.4-9.24-58.13-56.21-1.59-38.28 34.06-62.06 70.93-60.05 7.1.02 21.6.37 46.99 6.27v-15.62c2.69-26.46-14.7-46.99-44.81-43.91-2.4.01-19.4-.5-45.84 10.11-7.36 3.38-8.3 2.82-10.75 2.82-7.41 0-4.36-21.48-2.94-24.2 5.21-6.4 35.86-18.35 65.94-18.18a76.857 76.857 0 0 1 55.69 17.28 70.285 70.285 0 0 1 17.67 52.36l-.01 69.29zM93.99 235.4c32.43-.47 46.16-19.97 49.29-30.47 2.46-10.05 2.05-16.41 2.05-27.4-9.67-2.32-23.59-4.85-39.56-4.87-15.15-1.14-42.82 5.63-41.74 32.26-1.24 16.79 11.12 31.4 29.96 30.48zm170.92 23.05c-7.86.72-11.52-4.86-12.68-10.37l-49.8-164.65c-.97-2.78-1.61-5.65-1.92-8.58a4.61 4.61 0 0 1 3.86-5.25c.24-.04-2.13 0 22.25 0 8.78-.88 11.64 6.03 12.55 10.37l35.72 140.83 33.16-140.83c.53-3.22 2.94-11.07 12.8-10.24h17.16c2.17-.18 11.11-.5 12.68 10.37l33.42 142.63L420.98 80.1c.48-2.18 2.72-11.37 12.68-10.37h19.72c.85-.13 6.15-.81 5.25 8.58-.43 1.85 3.41-10.66-52.75 169.9-1.15 5.51-4.82 11.09-12.68 10.37h-18.69c-10.94 1.15-12.51-9.66-12.68-10.75L328.67 110.7l-32.78 136.99c-.16 1.09-1.73 11.9-12.68 10.75h-18.3zm273.48 5.63c-5.88.01-33.92-.3-57.36-12.29a12.802 12.802 0 0 1-7.81-11.91v-10.75c0-8.45 6.2-6.9 8.83-5.89 10.04 4.06 16.48 7.14 28.81 9.6 36.65 7.53 52.77-2.3 56.72-4.48 13.15-7.81 14.19-25.68 5.25-34.95-10.48-8.79-15.48-9.12-53.13-21-4.64-1.29-43.7-13.61-43.79-52.36-.61-28.24 25.05-56.18 69.52-55.95 12.67-.01 46.43 4.13 55.57 15.62 1.35 2.09 2.02 4.55 1.92 7.04v10.11c0 4.44-1.62 6.66-4.87 6.66-7.71-.86-21.39-11.17-49.16-10.75-6.89-.36-39.89.91-38.41 24.97-.43 18.96 26.61 26.07 29.7 26.89 36.46 10.97 48.65 12.79 63.12 29.58 17.14 22.25 7.9 48.3 4.35 55.44-19.08 37.49-68.42 34.44-69.26 34.42zm40.2 104.86c-70.03 51.72-171.69 79.25-258.49 79.25A469.127 469.127 0 0 1 2.83 327.46c-6.53-5.89-.77-13.96 7.17-9.47a637.37 637.37 0 0 0 316.88 84.12 630.22 630.22 0 0 0 241.59-49.55c11.78-5 21.77 7.8 10.12 16.38zm29.19-33.29c-8.96-11.52-59.28-5.38-81.81-2.69-6.79.77-7.94-5.12-1.79-9.47 40.07-28.17 105.88-20.1 113.44-10.63 7.55 9.47-2.05 75.41-39.56 106.91-5.76 4.87-11.27 2.3-8.71-4.1 8.44-21.25 27.39-68.49 18.43-80.02z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "toc.follow", "navigation.indexes", "navigation.instant", "navigation.tabs"], "search": "../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>